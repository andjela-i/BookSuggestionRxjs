(()=>{"use strict";var n={d:(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o:(n,t)=>Object.prototype.hasOwnProperty.call(n,t)};n.d({},{Q:()=>Vn});var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},t(n,e)};function e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function r(n,t){var e,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(a){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(u=0)),u;)try{if(e=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,r=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){u=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){u.label=c[1];break}if(6===c[0]&&u.label<o[1]){u.label=o[1],o=c;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(c);break}o[2]&&u.ops.pop(),u.trys.pop();continue}c=t.call(n,u)}catch(n){c=[6,n],r=0}finally{e=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}function o(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,i=e.call(n),u=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u}function u(n,t,e){if(e||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))}function c(n){return this instanceof c?(this.v=n,this):new c(n)}function a(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=e.apply(n,t||[]),i=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(n){o[n]&&(r[n]=function(t){return new Promise((function(e,r){i.push([n,t,e,r])>1||a(n,t)}))})}function a(n,t){try{(e=o[n](t)).value instanceof c?Promise.resolve(e.value.v).then(l,s):f(i[0][2],e)}catch(n){f(i[0][3],n)}var e}function l(n){a("next",n)}function s(n){a("throw",n)}function f(n,t){n(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}Object.create,Object.create;var l=function(n){return n&&"number"==typeof n.length&&"function"!=typeof n};function s(n){return"function"==typeof n}function f(n){return s(null==n?void 0:n.then)}var d,h=((d=function(n){return function(t){n(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(n,t){return t+1+") "+n.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}((function(n){Error.call(n),n.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),d.prototype.constructor=d,d);function p(n,t){if(n){var e=n.indexOf(t);0<=e&&n.splice(e,1)}}var v=function(){function n(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return n.prototype.unsubscribe=function(){var n,t,e,r,c;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var l=o(a),f=l.next();!f.done;f=l.next())f.value.remove(this)}catch(t){n={error:t}}finally{try{f&&!f.done&&(t=l.return)&&t.call(l)}finally{if(n)throw n.error}}else a.remove(this);var d=this.initialTeardown;if(s(d))try{d()}catch(n){c=n instanceof h?n.errors:[n]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var v=o(p),y=v.next();!y.done;y=v.next()){var m=y.value;try{b(m)}catch(n){c=null!=c?c:[],n instanceof h?c=u(u([],i(c)),i(n.errors)):c.push(n)}}}catch(n){e={error:n}}finally{try{y&&!y.done&&(r=v.return)&&r.call(v)}finally{if(e)throw e.error}}}if(c)throw new h(c)}},n.prototype.add=function(t){var e;if(t&&t!==this)if(this.closed)b(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}},n.prototype._hasParent=function(n){var t=this._parentage;return t===n||Array.isArray(t)&&t.includes(n)},n.prototype._addParent=function(n){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n},n.prototype._removeParent=function(n){var t=this._parentage;t===n?this._parentage=null:Array.isArray(t)&&p(t,n)},n.prototype.remove=function(t){var e=this._finalizers;e&&p(e,t),t instanceof n&&t._removeParent(this)},n.EMPTY=((t=new n).closed=!0,t),n}();function y(n){return n instanceof v||n&&"closed"in n&&s(n.remove)&&s(n.add)&&s(n.unsubscribe)}function b(n){s(n)?n():n.unsubscribe()}v.EMPTY;var m=null,w=null,g=void 0,x=!1,_=!1,E={setTimeout:function(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var o=E.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,u([n,t],i(e))):setTimeout.apply(void 0,u([n,t],i(e)))},clearTimeout:function(n){var t=E.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function S(n){E.setTimeout((function(){if(!m)throw n;m(n)}))}function k(){}var C=I("C",void 0,void 0);function I(n,t,e){return{kind:n,value:t,error:e}}var T=null,j=function(n){function t(t){var e=n.call(this)||this;return e.isStopped=!1,t?(e.destination=t,y(t)&&t.add(e)):e.destination=M,e}return e(t,n),t.create=function(n,t,e){return new z(n,t,e)},t.prototype.next=function(n){this.isStopped?N(function(n){return I("N",n,void 0)}(n),this):this._next(n)},t.prototype.error=function(n){this.isStopped?N(I("E",void 0,n),this):(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped?N(C,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(v),A=Function.prototype.bind;function O(n,t){return A.call(n,t)}var P=function(){function n(n){this.partialObserver=n}return n.prototype.next=function(n){var t=this.partialObserver;if(t.next)try{t.next(n)}catch(n){L(n)}},n.prototype.error=function(n){var t=this.partialObserver;if(t.error)try{t.error(n)}catch(n){L(n)}else L(n)},n.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(n){L(n)}},n}(),z=function(n){function t(t,e,r){var o,i,u=n.call(this)||this;return s(t)||!t?o={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0}:u&&_?((i=Object.create(t)).unsubscribe=function(){return u.unsubscribe()},o={next:t.next&&O(t.next,i),error:t.error&&O(t.error,i),complete:t.complete&&O(t.complete,i)}):o=t,u.destination=new P(o),u}return e(t,n),t}(j);function L(n){var t;x?(t=n,x&&T&&(T.errorThrown=!0,T.error=t)):S(n)}function N(n,t){var e=w;e&&E.setTimeout((function(){return e(n,t)}))}var M={closed:!0,next:k,error:function(n){throw n},complete:k},q="function"==typeof Symbol&&Symbol.observable||"@@observable";function U(n){return n}function H(n){return 0===n.length?U:1===n.length?n[0]:function(t){return n.reduce((function(n,t){return t(n)}),t)}}var R=function(){function n(n){n&&(this._subscribe=n)}return n.prototype.lift=function(t){var e=new n;return e.source=this,e.operator=t,e},n.prototype.subscribe=function(n,t,e){var r,o=this,i=(r=n)&&r instanceof j||function(n){return n&&s(n.next)&&s(n.error)&&s(n.complete)}(r)&&y(r)?n:new z(n,t,e);return function(n){if(x){var t=!T;if(t&&(T={errorThrown:!1,error:null}),n(),t){var e=T,r=e.errorThrown,o=e.error;if(T=null,r)throw o}}else n()}((function(){var n=o,t=n.operator,e=n.source;i.add(t?t.call(i,e):e?o._subscribe(i):o._trySubscribe(i))})),i},n.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(t){n.error(t)}},n.prototype.forEach=function(n,t){var e=this;return new(t=Y(t))((function(t,r){var o=new z({next:function(t){try{n(t)}catch(n){r(n),o.unsubscribe()}},error:r,complete:t});e.subscribe(o)}))},n.prototype._subscribe=function(n){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(n)},n.prototype[q]=function(){return this},n.prototype.pipe=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return H(n)(this)},n.prototype.toPromise=function(n){var t=this;return new(n=Y(n))((function(n,e){var r;t.subscribe((function(n){return r=n}),(function(n){return e(n)}),(function(){return n(r)}))}))},n.create=function(t){return new n(t)},n}();function Y(n){var t;return null!==(t=null!=n?n:g)&&void 0!==t?t:Promise}function F(n){return s(n[q])}function D(n){return Symbol.asyncIterator&&s(null==n?void 0:n[Symbol.asyncIterator])}function K(n){return new TypeError("You provided "+(null!==n&&"object"==typeof n?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function G(n){return s(null==n?void 0:n[B])}function Q(n){return a(this,arguments,(function(){var t,e,o;return r(this,(function(r){switch(r.label){case 0:t=n.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,c(t.read())];case 3:return e=r.sent(),o=e.value,e.done?[4,c(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,c(o)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function J(n){return s(null==n?void 0:n.getReader)}function V(n){if(n instanceof R)return n;if(null!=n){if(F(n))return i=n,new R((function(n){var t=i[q]();if(s(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(l(n))return r=n,new R((function(n){for(var t=0;t<r.length&&!n.closed;t++)n.next(r[t]);n.complete()}));if(f(n))return e=n,new R((function(n){e.then((function(t){n.closed||(n.next(t),n.complete())}),(function(t){return n.error(t)})).then(null,S)}));if(D(n))return W(n);if(G(n))return t=n,new R((function(n){var e,r;try{for(var i=o(t),u=i.next();!u.done;u=i.next()){var c=u.value;if(n.next(c),n.closed)return}}catch(n){e={error:n}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}n.complete()}));if(J(n))return W(Q(n))}var t,e,r,i;throw K(n)}function W(n){return new R((function(t){(function(n,t){var e,i,u,c,a,l,s,f;return a=this,l=void 0,f=function(){var a,l;return r(this,(function(r){switch(r.label){case 0:r.trys.push([0,5,6,11]),e=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=o(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(e){t[e]=n[e]&&function(t){return new Promise((function(r,o){!function(n,t,e,r){Promise.resolve(r).then((function(t){n({value:t,done:e})}),t)}(r,o,(t=n[e](t)).done,t.value)}))}}}(n),r.label=1;case 1:return[4,e.next()];case 2:if((i=r.sent()).done)return[3,4];if(a=i.value,t.next(a),t.closed)return[2];r.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=r.sent(),u={error:l},[3,11];case 6:return r.trys.push([6,,9,10]),i&&!i.done&&(c=e.return)?[4,c.call(e)]:[3,8];case 7:r.sent(),r.label=8;case 8:return[3,10];case 9:if(u)throw u.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((s=void 0)||(s=Promise))((function(n,t){function e(n){try{o(f.next(n))}catch(n){t(n)}}function r(n){try{o(f.throw(n))}catch(n){t(n)}}function o(t){var o;t.done?n(t.value):(o=t.value,o instanceof s?o:new s((function(n){n(o)}))).then(e,r)}o((f=f.apply(a,l||[])).next())}))})(n,t).catch((function(n){return t.error(n)}))}))}function X(n){return function(t){if(function(n){return s(null==n?void 0:n.lift)}(t))return t.lift((function(t){try{return n(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Z(n,t,e,r,o){return new $(n,t,e,r,o)}var $=function(n){function t(t,e,r,o,i,u){var c=n.call(this,t)||this;return c.onFinalize=i,c.shouldUnsubscribe=u,c._next=e?function(n){try{e(n)}catch(n){t.error(n)}}:n.prototype._next,c._error=o?function(n){try{o(n)}catch(n){t.error(n)}finally{this.unsubscribe()}}:n.prototype._error,c._complete=r?function(){try{r()}catch(n){t.error(n)}finally{this.unsubscribe()}}:n.prototype._complete,c}return e(t,n),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var e=this.closed;n.prototype.unsubscribe.call(this),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(j);function nn(n,t){return X((function(e,r){var o=0;e.subscribe(Z(r,(function(e){r.next(n.call(t,e,o++))})))}))}function tn(n,t,e,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){e(),o?n.add(this.schedule(null,r)):this.unsubscribe()}),r);if(n.add(i),!o)return i}function en(n,t,e){return void 0===e&&(e=1/0),s(t)?en((function(e,r){return nn((function(n,o){return t(e,n,r,o)}))(V(n(e,r)))}),e):("number"==typeof t&&(e=t),X((function(t,r){return function(n,t,e,r,o,i,u,c){var a=[],l=0,s=0,f=!1,d=function(){!f||a.length||l||t.complete()},h=function(n){return l<r?p(n):a.push(n)},p=function(n){l++;var o=!1;V(e(n,s++)).subscribe(Z(t,(function(n){t.next(n)}),(function(){o=!0}),void 0,(function(){if(o)try{l--;for(;a.length&&l<r;)n=void 0,n=a.shift(),p(n);d()}catch(n){t.error(n)}var n})))};return n.subscribe(Z(t,h,(function(){f=!0,d()}))),function(){}}(t,r,n,e)})))}var rn=Array.isArray;function on(n){return nn((function(t){return function(n,t){return rn(t)?n.apply(void 0,u([],i(t))):n(t)}(n,t)}))}var un=["addListener","removeListener"],cn=["addEventListener","removeEventListener"],an=["on","off"];function ln(n,t,e,r){if(s(e)&&(r=e,e=void 0),r)return ln(n,t,e).pipe(on(r));var o=i(function(n){return s(n.addEventListener)&&s(n.removeEventListener)}(n)?cn.map((function(r){return function(o){return n[r](t,o,e)}})):function(n){return s(n.addListener)&&s(n.removeListener)}(n)?un.map(sn(n,t)):function(n){return s(n.on)&&s(n.off)}(n)?an.map(sn(n,t)):[],2),u=o[0],c=o[1];if(!u&&l(n))return en((function(n){return ln(n,t,e)}))(V(n));if(!u)throw new TypeError("Invalid event target");return new R((function(n){var t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1<t.length?t:t[0])};return u(t),function(){return c(t)}}))}function sn(n,t){return function(e){return function(r){return n[e](t,r)}}}var fn=function(n){function t(t,e){return n.call(this)||this}return e(t,n),t.prototype.schedule=function(n,t){return void 0===t&&(t=0),this},t}(v),dn={setInterval:function(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var o=dn.delegate;return(null==o?void 0:o.setInterval)?o.setInterval.apply(o,u([n,t],i(e))):setInterval.apply(void 0,u([n,t],i(e)))},clearInterval:function(n){var t=dn.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0},hn=function(n){function t(t,e){var r=n.call(this,t,e)||this;return r.scheduler=t,r.work=e,r.pending=!1,r}return e(t,n),t.prototype.schedule=function(n,t){var e;if(void 0===t&&(t=0),this.closed)return this;this.state=n;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(e=this.id)&&void 0!==e?e:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(n,t,e){return void 0===e&&(e=0),dn.setInterval(n.flush.bind(n,this),e)},t.prototype.recycleAsyncId=function(n,t,e){if(void 0===e&&(e=0),null!=e&&this.delay===e&&!1===this.pending)return t;null!=t&&dn.clearInterval(t)},t.prototype.execute=function(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(n,t);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,t){var e,r=!1;try{this.work(n)}catch(n){r=!0,e=n||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),e},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,e=this.scheduler,r=e.actions;this.work=this.state=this.scheduler=null,this.pending=!1,p(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},t}(fn),pn={now:function(){return(pn.delegate||Date).now()},delegate:void 0},vn=function(){function n(t,e){void 0===e&&(e=n.now),this.schedulerActionCtor=t,this.now=e}return n.prototype.schedule=function(n,t,e){return void 0===t&&(t=0),new this.schedulerActionCtor(this,n).schedule(e,t)},n.now=pn.now,n}(),yn=new(function(n){function t(t,e){void 0===e&&(e=vn.now);var r=n.call(this,t,e)||this;return r.actions=[],r._active=!1,r}return e(t,n),t.prototype.flush=function(n){var t=this.actions;if(this._active)t.push(n);else{var e;this._active=!0;do{if(e=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,e){for(;n=t.shift();)n.unsubscribe();throw e}}},t}(vn))(hn);function bn(n,t){return X((function(e,r){var o=0;e.subscribe(Z(r,(function(e){return n.call(t,e,o++)&&r.next(e)})))}))}var mn=Array.isArray,wn=Object.getPrototypeOf,gn=Object.prototype,xn=Object.keys;function _n(n){if(1===n.length){var t=n[0];if(mn(t))return{args:t,keys:null};if((r=t)&&"object"==typeof r&&wn(r)===gn){var e=xn(t);return{args:e.map((function(n){return t[n]})),keys:e}}}var r;return{args:n,keys:null}}function En(n,t){return void 0===t&&(t=0),X((function(e,r){e.subscribe(Z(r,(function(e){return tn(r,n,(function(){return r.next(e)}),t)}),(function(){return tn(r,n,(function(){return r.complete()}),t)}),(function(e){return tn(r,n,(function(){return r.error(e)}),t)})))}))}function Sn(n,t){return void 0===t&&(t=0),X((function(e,r){r.add(n.schedule((function(){return e.subscribe(r)}),t))}))}function kn(n,t){if(!n)throw new Error("Iterable cannot be null");return new R((function(e){tn(e,t,(function(){var r=n[Symbol.asyncIterator]();tn(e,t,(function(){r.next().then((function(n){n.done?e.complete():e.next(n.value)}))}),0,!0)}))}))}function Cn(n,t){return t?function(n,t){if(null!=n){if(F(n))return function(n,t){return V(n).pipe(Sn(t),En(t))}(n,t);if(l(n))return function(n,t){return new R((function(e){var r=0;return t.schedule((function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())}))}))}(n,t);if(f(n))return function(n,t){return V(n).pipe(Sn(t),En(t))}(n,t);if(D(n))return kn(n,t);if(G(n))return function(n,t){return new R((function(e){var r;return tn(e,t,(function(){r=n[B](),tn(e,t,(function(){var n,t,o;try{t=(n=r.next()).value,o=n.done}catch(n){return void e.error(n)}o?e.complete():e.next(t)}),0,!0)})),function(){return s(null==r?void 0:r.return)&&r.return()}}))}(n,t);if(J(n))return function(n,t){return kn(Q(n),t)}(n,t)}throw K(n)}(n,t):V(n)}function In(n){return n[n.length-1]}function Tn(n){return s(In(n))?n.pop():void 0}function jn(n){return(t=In(n))&&s(t.schedule)?n.pop():void 0;var t}function An(n,t){return n.reduce((function(n,e,r){return n[e]=t[r],n}),{})}function On(n,t,e){return void 0===e&&(e=U),function(r){Pn(t,(function(){for(var o=n.length,i=new Array(o),u=o,c=o,a=function(o){Pn(t,(function(){var a=Cn(n[o],t),l=!1;a.subscribe(Z(r,(function(n){i[o]=n,l||(l=!0,c--),c||r.next(e(i.slice()))}),(function(){--u||r.complete()})))}),r)},l=0;l<o;l++)a(l)}),r)}}function Pn(n,t,e){n?tn(e,n,t):t()}var zn="http://localhost:3000/books";function Ln(){return Cn(fetch(zn).then((function(n){if(n.ok)return n.json();throw new Error("greska u f-ji vrati sve knjige")})).catch((function(n){return console.error(n)})))}var Nn=[0,0,0,0,0],Mn=[],qn=document.createElement("div");document.body.appendChild(qn);var Un=document.createElement("div");qn.appendChild(Un),Un.className="divUnos";var Hn=document.createElement("div");Hn.className="polica";var Rn=document.createElement("div");qn.appendChild(Rn),qn.appendChild(Hn);var Yn=document.createElement("button");Rn.appendChild(Yn),Yn.innerHTML="Clear books",Yn.onclick=function(){Hn=function(n){qn.removeChild(n);var t=document.createElement("div");return t.className="polica",qn.appendChild(t),t}(Hn)};var Fn=document.createElement("div");Fn.className="pol2";var Dn=document.createElement("button");Dn.innerHTML="Rate books",Dn.onclick=function(){!function(){var n=document.querySelector(".divv"),t=document.querySelector(".pol2");n.removeChild(t);var e=document.createElement("div");n.appendChild(e),e.className="pol2";for(var r,o=[],i=0;i<5;i++)r=Vn[Math.floor(Math.random()*Vn.length)],o[i]=r.zanr,console.log(o[i]),console.log(r),Mn[i]=Bn(r,e);(function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=jn(n),r=Tn(n),o=_n(n),i=o.args,u=o.keys;if(0===i.length)return Cn([],e);var c=new R(On(i,e,u?function(n){return An(u,n)}:U));return r?c.pipe(on(r)):c})([Mn[0],Mn[1],Mn[2],Mn[3],Mn[4]]).subscribe((function(n){Nn=n;var t,e="";console.log(n);for(var r=0;r<5;r++)for(var i=0;i<5;i++)r!=i&&o[r]===o[i]&&(Nn[r]=Nn[r]+Nn[i],o[i]="",console.log(Nn[r]),0<Nn[r]&&""!=o[r]&&(e=o[r]));console.log(e),t=e,Ln().pipe(nn((function(n){return n.filter((function(n){return n.zanr==t}))}))).subscribe((function(n){!function(n){var t=document.querySelector(".divv"),e=document.querySelector(".pol2");t.removeChild(e);var r=document.createElement("div");t.appendChild(r);var o=document.createElement("p");n.forEach((function(n){o.innerHTML=n.title,r.appendChild(o)})),r.className="pol2"}(n)})),console.log(Nn),console.log(o)}))}()};var Kn=document.createElement("div");function Bn(n,t){var e=document.createElement("div");e.className="okvirKnjige",t.appendChild(e);var r=document.createElement("h3");r.textContent=n.title;var o=document.createElement("p");o.textContent=n.autor;var i=document.createElement("input");e.appendChild(r),e.appendChild(o);var u=new Image;return u.src=n.slika,u.width=150,u.height=200,e.appendChild(u),e.appendChild(i),ln(i,"input").pipe(nn((function(n){return parseInt(n.target.value)})),bn((function(n){return n<=5&&n>=0})))}Kn.className="divv",document.body.appendChild(Kn),Kn.appendChild(Dn),Kn.appendChild(Fn);var Gn,Qn,Jn,Vn=[],Wn={id:"drakula",title:"Drakula",zanr:"Horor",godina:1897,autor:"Brem Stoker",slika:"../assets/5107.jpg",opis:""};Ln().subscribe((function(n){console.log(n),Vn=n,console.log(Vn)})),Jn=document.createElement("input"),Un.appendChild(Jn),ln(Jn,"input").pipe((500,void 0===Qn&&(Qn=yn),X((function(n,t){var e=null,r=null,o=null,i=function(){if(e){e.unsubscribe(),e=null;var n=r;r=null,t.next(n)}};function u(){var n=o+500,r=Qn.now();if(r<n)return e=this.schedule(void 0,n-r),void t.add(e);i()}n.subscribe(Z(t,(function(n){r=n,o=Qn.now(),e||(e=Qn.schedule(u,500),t.add(e))}),(function(){i(),t.complete()}),void 0,(function(){r=e=null})))}))),nn((function(n){return n.target.value})),bn((function(n){return n.length>=3})),(Gn=function(n){return function(n){var t=n.split(" ").join("_").toLowerCase();return console.log(t),Cn(fetch(zn+"/"+t).then((function(n){if(n.ok)return n.json();throw new Error("nema te knjige")})).catch((function(n){return console.error(n)})))}(n)},X((function(n,t){var e=null,r=!1,o=function(){return r&&!e&&t.complete()};n.subscribe(Z(t,(function(n){null==e||e.unsubscribe();0;V(Gn(n)).subscribe(e=Z(t,(function(n){return t.next(n)}),(function(){e=null,o()})))}),(function(){r=!0,o()})))})))).subscribe((function(n){console.log("---",n),console.log(n.zanr),Wn.id=n.id,Wn.opis=n.opis,Wn.godina=n.godina,Wn.slika=n.slika,Wn.title=n.title,Wn.zanr=n.zanr,function(n,t){var e=document.createElement("div");e.className="okvirKnjige",t.appendChild(e);var r=document.createElement("h3");r.textContent=n.title;var o=document.createElement("p");o.textContent=n.autor,e.appendChild(r),e.appendChild(o);var i=new Image;i.src=n.slika,i.onclick=function(){!function(n,t){var e=document.createElement("p");e.className="opis",e.innerHTML=t.opis,n.appendChild(e)}(t,n)},i.width=150,i.height=200,e.appendChild(i)}(Wn,Hn),function(n){n.value=""}(Jn)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aEIsSUFBSUUsRUFBTSxJQUFJQyxNQUNkRCxFQUFNRSxJQUFJUCxFQUFPUSxNQUNqQkgsRUFBTXBDLFFBQVEsWUFRbEIsU0FBbUJHLEVBQW1CNEIsR0FDbEMsSUFBSWdCLEVBQUt4RCxTQUFTQyxjQUFjLEtBQ2hDdUQsRUFBS3BELFVBQVUsT0FDZm9ELEVBQUtoRCxVQUFVZ0MsRUFBT2dCLEtBQ3RCNUMsRUFBSVYsWUFBWXNELEVBQ3BCLENBYndCYyxDQUFVNUQsRUFBVThCLEVBQVEsRUFDaERLLEVBQU1JLE1BQU0sSUFDWkosRUFBTUssT0FBTyxJQUNidEMsRUFBSVYsWUFBWTJDLEVBR3BCLENDakJRMEIsQ0FBUy9CLEdBQU9uQyxJRGtDakIsU0FBb0JpRCxHQUN2QkEsRUFBS3RYLE1BQU0sRUFDZixDQ25DUXdZLENBQVdsQixHQUNmLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FycmF5TGlrZS5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yLmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvY3JlYXRlRXJyb3JDbGFzcy5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2FyclJlbW92ZS5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvci5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL25vb3AuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvTm90aWZpY2F0aW9uRmFjdG9yaWVzLmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvZXJyb3JDb250ZXh0LmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pZGVudGl0eS5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL3BpcGUuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FzeW5jSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yLmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZS5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2lubmVyRnJvbS5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2xpZnQuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvZXhlY3V0ZVNjaGVkdWxlLmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcC5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VJbnRlcm5hbHMuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9tYXBPbmVPck1hbnlBcmdzLmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9BY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2ludGVydmFsUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jQWN0aW9uLmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvU2NoZWR1bGVyLmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9hc3luYy5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2FyZ3NBcmdBcnJheU9yT2JqZWN0LmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9vYnNlcnZlT24uanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N1YnNjcmliZU9uLmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFzeW5jSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tLmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheS5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVQcm9taXNlLmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUl0ZXJhYmxlLmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZS5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2FyZ3MuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2NyZWF0ZU9iamVjdC5qcyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi92aWV3L2Vudmlyb21lbnQudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtcHJvamVrYXQvLi9zcmMvY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL3ZpZXcvZHJhdy50cyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9yZWFjdC1wcm9qZWthdC8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoTWFwLmpzIiwid2VicGFjazovL3JlYWN0LXByb2pla2F0Ly4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVRpbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xyXG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcclxuICAgICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcclxuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xyXG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xyXG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcclxufSkgOiBmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcclxuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRJbihzdGF0ZSwgcmVjZWl2ZXIpIHtcclxuICAgIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xyXG4gICAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcclxufVxyXG4iLCJleHBvcnQgdmFyIGlzQXJyYXlMaWtlID0gKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHggIT09ICdmdW5jdGlvbic7IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheUxpa2UuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNGdW5jdGlvbi5qcy5tYXAiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSBcIi4vaXNGdW5jdGlvblwiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS50aGVuKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUHJvbWlzZS5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcbmV4cG9ydCB2YXIgVW5zdWJzY3JpcHRpb25FcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3MoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbChlcnJvcnMpIHtcbiAgICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvcnNcbiAgICAgICAgICAgID8gZXJyb3JzLmxlbmd0aCArIFwiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XFxuXCIgKyBlcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIsIGkpIHsgcmV0dXJuIGkgKyAxICsgXCIpIFwiICsgZXJyLnRvU3RyaW5nKCk7IH0pLmpvaW4oJ1xcbiAgJylcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgfTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VW5zdWJzY3JpcHRpb25FcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlRXJyb3JDbGFzcyhjcmVhdGVJbXBsKSB7XG4gICAgdmFyIF9zdXBlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICBFcnJvci5jYWxsKGluc3RhbmNlKTtcbiAgICAgICAgaW5zdGFuY2Uuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgICB9O1xuICAgIHZhciBjdG9yRnVuYyA9IGNyZWF0ZUltcGwoX3N1cGVyKTtcbiAgICBjdG9yRnVuYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgY3RvckZ1bmMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvckZ1bmM7XG4gICAgcmV0dXJuIGN0b3JGdW5jO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlRXJyb3JDbGFzcy5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gYXJyUmVtb3ZlKGFyciwgaXRlbSkge1xuICAgIGlmIChhcnIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYXJyLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIDAgPD0gaW5kZXggJiYgYXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyUmVtb3ZlLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSwgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi91dGlsL2FyclJlbW92ZSc7XG52YXIgU3Vic2NyaXB0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24oaW5pdGlhbFRlYXJkb3duKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbFRlYXJkb3duID0gaW5pdGlhbFRlYXJkb3duO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9maW5hbGl6ZXJzID0gbnVsbDtcbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfcGFyZW50YWdlXzEgPSBfX3ZhbHVlcyhfcGFyZW50YWdlKSwgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpOyAhX3BhcmVudGFnZV8xXzEuZG9uZTsgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gX3BhcmVudGFnZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50XzEucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3BhcmVudGFnZV8xXzEgJiYgIV9wYXJlbnRhZ2VfMV8xLmRvbmUgJiYgKF9hID0gX3BhcmVudGFnZV8xLnJldHVybikpIF9hLmNhbGwoX3BhcmVudGFnZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudGFnZS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluaXRpYWxGaW5hbGl6ZXIgPSB0aGlzLmluaXRpYWxUZWFyZG93bjtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGluaXRpYWxGaW5hbGl6ZXIpKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEZpbmFsaXplcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/IGUuZXJyb3JzIDogW2VdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfZmluYWxpemVycyA9IHRoaXMuX2ZpbmFsaXplcnM7XG4gICAgICAgICAgICBpZiAoX2ZpbmFsaXplcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maW5hbGl6ZXJzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZmluYWxpemVyc18xID0gX192YWx1ZXMoX2ZpbmFsaXplcnMpLCBfZmluYWxpemVyc18xXzEgPSBfZmluYWxpemVyc18xLm5leHQoKTsgIV9maW5hbGl6ZXJzXzFfMS5kb25lOyBfZmluYWxpemVyc18xXzEgPSBfZmluYWxpemVyc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmFsaXplciA9IF9maW5hbGl6ZXJzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY0ZpbmFsaXplcihmaW5hbGl6ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyAhPT0gbnVsbCAmJiBlcnJvcnMgIT09IHZvaWQgMCA/IGVycm9ycyA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGVycm9ycykpLCBfX3JlYWQoZXJyLmVycm9ycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZmluYWxpemVyc18xXzEgJiYgIV9maW5hbGl6ZXJzXzFfMS5kb25lICYmIChfYiA9IF9maW5hbGl6ZXJzXzEucmV0dXJuKSkgX2IuY2FsbChfZmluYWxpemVyc18xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRlYXJkb3duICYmIHRlYXJkb3duICE9PSB0aGlzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBleGVjRmluYWxpemVyKHRlYXJkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0ZWFyZG93biBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGVhcmRvd24uY2xvc2VkIHx8IHRlYXJkb3duLl9oYXNQYXJlbnQodGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0ZWFyZG93bi5fYWRkUGFyZW50KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAodGhpcy5fZmluYWxpemVycyA9IChfYSA9IHRoaXMuX2ZpbmFsaXplcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKS5wdXNoKHRlYXJkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5faGFzUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgcmV0dXJuIF9wYXJlbnRhZ2UgPT09IHBhcmVudCB8fCAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSAmJiBfcGFyZW50YWdlLmluY2x1ZGVzKHBhcmVudCkpO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fYWRkUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSA/IChfcGFyZW50YWdlLnB1c2gocGFyZW50KSwgX3BhcmVudGFnZSkgOiBfcGFyZW50YWdlID8gW19wYXJlbnRhZ2UsIHBhcmVudF0gOiBwYXJlbnQ7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9yZW1vdmVQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICBpZiAoX3BhcmVudGFnZSA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkpIHtcbiAgICAgICAgICAgIGFyclJlbW92ZShfcGFyZW50YWdlLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgX2ZpbmFsaXplcnMgPSB0aGlzLl9maW5hbGl6ZXJzO1xuICAgICAgICBfZmluYWxpemVycyAmJiBhcnJSZW1vdmUoX2ZpbmFsaXplcnMsIHRlYXJkb3duKTtcbiAgICAgICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0ZWFyZG93bi5fcmVtb3ZlUGFyZW50KHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24uRU1QVFkgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZW1wdHkgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9KSgpO1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KCkpO1xuZXhwb3J0IHsgU3Vic2NyaXB0aW9uIH07XG5leHBvcnQgdmFyIEVNUFRZX1NVQlNDUklQVElPTiA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcbmV4cG9ydCBmdW5jdGlvbiBpc1N1YnNjcmlwdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24gfHxcbiAgICAgICAgKHZhbHVlICYmICdjbG9zZWQnIGluIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUucmVtb3ZlKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmFkZCkgJiYgaXNGdW5jdGlvbih2YWx1ZS51bnN1YnNjcmliZSkpKTtcbn1cbmZ1bmN0aW9uIGV4ZWNGaW5hbGl6ZXIoZmluYWxpemVyKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oZmluYWxpemVyKSkge1xuICAgICAgICBmaW5hbGl6ZXIoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZpbmFsaXplci51bnN1YnNjcmliZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmlwdGlvbi5qcy5tYXAiLCJleHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBvblVuaGFuZGxlZEVycm9yOiBudWxsLFxuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbjogbnVsbCxcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzogZmFsc2UsXG4gICAgdXNlRGVwcmVjYXRlZE5leHRDb250ZXh0OiBmYWxzZSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5leHBvcnQgdmFyIHRpbWVvdXRQcm92aWRlciA9IHtcbiAgICBzZXRUaW1lb3V0OiBmdW5jdGlvbiAoaGFuZGxlciwgdGltZW91dCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuc2V0VGltZW91dCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLnNldFRpbWVvdXQuYXBwbHkoZGVsZWdhdGUsIF9fc3ByZWFkQXJyYXkoW2hhbmRsZXIsIHRpbWVvdXRdLCBfX3JlYWQoYXJncykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0VGltZW91dC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW2hhbmRsZXIsIHRpbWVvdXRdLCBfX3JlYWQoYXJncykpKTtcbiAgICB9LFxuICAgIGNsZWFyVGltZW91dDogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5jbGVhclRpbWVvdXQpIHx8IGNsZWFyVGltZW91dCkoaGFuZGxlKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZW91dFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyJztcbmV4cG9ydCBmdW5jdGlvbiByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnIpIHtcbiAgICB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvblVuaGFuZGxlZEVycm9yID0gY29uZmlnLm9uVW5oYW5kbGVkRXJyb3I7XG4gICAgICAgIGlmIChvblVuaGFuZGxlZEVycm9yKSB7XG4gICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcG9ydFVuaGFuZGxlZEVycm9yLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcCIsImV4cG9ydCB2YXIgQ09NUExFVEVfTk9USUZJQ0FUSU9OID0gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignQycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsgfSkoKTtcbmV4cG9ydCBmdW5jdGlvbiBlcnJvck5vdGlmaWNhdGlvbihlcnJvcikge1xuICAgIHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0UnLCB1bmRlZmluZWQsIGVycm9yKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Tm90aWZpY2F0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignTicsIHZhbHVlLCB1bmRlZmluZWQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5vdGlmaWNhdGlvbihraW5kLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpY2F0aW9uRmFjdG9yaWVzLmpzLm1hcCIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG52YXIgY29udGV4dCA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gZXJyb3JDb250ZXh0KGNiKSB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgIHZhciBpc1Jvb3QgPSAhY29udGV4dDtcbiAgICAgICAgaWYgKGlzUm9vdCkge1xuICAgICAgICAgICAgY29udGV4dCA9IHsgZXJyb3JUaHJvd246IGZhbHNlLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGNiKCk7XG4gICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGNvbnRleHQsIGVycm9yVGhyb3duID0gX2EuZXJyb3JUaHJvd24sIGVycm9yID0gX2EuZXJyb3I7XG4gICAgICAgICAgICBjb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjYigpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjYXB0dXJlRXJyb3IoZXJyKSB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nICYmIGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5lcnJvclRocm93biA9IHRydWU7XG4gICAgICAgIGNvbnRleHQuZXJyb3IgPSBlcnI7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JDb250ZXh0LmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGlzU3Vic2NyaXB0aW9uLCBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4vdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi91dGlsL25vb3AnO1xuaW1wb3J0IHsgbmV4dE5vdGlmaWNhdGlvbiwgZXJyb3JOb3RpZmljYXRpb24sIENPTVBMRVRFX05PVElGSUNBVElPTiB9IGZyb20gJy4vTm90aWZpY2F0aW9uRmFjdG9yaWVzJztcbmltcG9ydCB7IHRpbWVvdXRQcm92aWRlciB9IGZyb20gJy4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlcic7XG5pbXBvcnQgeyBjYXB0dXJlRXJyb3IgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcbnZhciBTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgICAgICBpZiAoaXNTdWJzY3JpcHRpb24oZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gRU1QVFlfT0JTRVJWRVI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTYWZlU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24obmV4dE5vdGlmaWNhdGlvbih2YWx1ZSksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oZXJyb3JOb3RpZmljYXRpb24oZXJyKSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKENPTVBMRVRFX05PVElGSUNBVElPTiwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIF9iaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG5mdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIF9iaW5kLmNhbGwoZm4sIHRoaXNBcmcpO1xufVxudmFyIENvbnN1bWVyT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnN1bWVyT2JzZXJ2ZXIocGFydGlhbE9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMucGFydGlhbE9ic2VydmVyID0gcGFydGlhbE9ic2VydmVyO1xuICAgIH1cbiAgICBDb25zdW1lck9ic2VydmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXIgPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKHBhcnRpYWxPYnNlcnZlci5uZXh0KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29uc3VtZXJPYnNlcnZlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXIgPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKHBhcnRpYWxPYnNlcnZlci5lcnJvcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnN1bWVyT2JzZXJ2ZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuY29tcGxldGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb25zdW1lck9ic2VydmVyO1xufSgpKTtcbnZhciBTYWZlU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNhZmVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIHBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpIHx8ICFvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyID0ge1xuICAgICAgICAgICAgICAgIG5leHQ6IChvYnNlcnZlck9yTmV4dCAhPT0gbnVsbCAmJiBvYnNlcnZlck9yTmV4dCAhPT0gdm9pZCAwID8gb2JzZXJ2ZXJPck5leHQgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciAhPT0gbnVsbCAmJiBlcnJvciAhPT0gdm9pZCAwID8gZXJyb3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGNvbXBsZXRlICE9PSBudWxsICYmIGNvbXBsZXRlICE9PSB2b2lkIDAgPyBjb21wbGV0ZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dF8xO1xuICAgICAgICAgICAgaWYgKF90aGlzICYmIGNvbmZpZy51c2VEZXByZWNhdGVkTmV4dENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy51bnN1YnNjcmliZSgpOyB9O1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogb2JzZXJ2ZXJPck5leHQubmV4dCAmJiBiaW5kKG9ic2VydmVyT3JOZXh0Lm5leHQsIGNvbnRleHRfMSksXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBvYnNlcnZlck9yTmV4dC5lcnJvciAmJiBiaW5kKG9ic2VydmVyT3JOZXh0LmVycm9yLCBjb250ZXh0XzEpLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogb2JzZXJ2ZXJPck5leHQuY29tcGxldGUgJiYgYmluZChvYnNlcnZlck9yTmV4dC5jb21wbGV0ZSwgY29udGV4dF8xKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgQ29uc3VtZXJPYnNlcnZlcihwYXJ0aWFsT2JzZXJ2ZXIpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTYWZlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2FmZVN1YnNjcmliZXIgfTtcbmZ1bmN0aW9uIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKSB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gZGVmYXVsdEVycm9ySGFuZGxlcihlcnIpIHtcbiAgICB0aHJvdyBlcnI7XG59XG5mdW5jdGlvbiBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcikge1xuICAgIHZhciBvblN0b3BwZWROb3RpZmljYXRpb24gPSBjb25maWcub25TdG9wcGVkTm90aWZpY2F0aW9uO1xuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbiAmJiB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBvblN0b3BwZWROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBzdWJzY3JpYmVyKTsgfSk7XG59XG5leHBvcnQgdmFyIEVNUFRZX09CU0VSVkVSID0ge1xuICAgIGNsb3NlZDogdHJ1ZSxcbiAgICBuZXh0OiBub29wLFxuICAgIGVycm9yOiBkZWZhdWx0RXJyb3JIYW5kbGVyLFxuICAgIGNvbXBsZXRlOiBub29wLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZXIuanMubWFwIiwiZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gKGZ1bmN0aW9uICgpIHsgcmV0dXJuICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5vYnNlcnZhYmxlKSB8fCAnQEBvYnNlcnZhYmxlJzsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aXR5LmpzLm1hcCIsImltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gcGlwZSgpIHtcbiAgICB2YXIgZm5zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGlwZUZyb21BcnJheShmbnMpIHtcbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChmbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBmbnNbMF07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBwaXBlZChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZm5zLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZm4pIHsgcmV0dXJuIGZuKHByZXYpOyB9LCBpbnB1dCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcGUuanMubWFwIiwiaW1wb3J0IHsgU2FmZVN1YnNjcmliZXIsIFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgaXNTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGVycm9yQ29udGV4dCB9IGZyb20gJy4vdXRpbC9lcnJvckNvbnRleHQnO1xudmFyIE9ic2VydmFibGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGUoc3Vic2NyaWJlKSB7XG4gICAgICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICBvYnNlcnZhYmxlLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBpc1N1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQpID8gb2JzZXJ2ZXJPck5leHQgOiBuZXcgU2FmZVN1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIGVycm9yQ29udGV4dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcywgb3BlcmF0b3IgPSBfYS5vcGVyYXRvciwgc291cmNlID0gX2Euc291cmNlO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQob3BlcmF0b3JcbiAgICAgICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yLmNhbGwoc3Vic2NyaWJlciwgc291cmNlKVxuICAgICAgICAgICAgICAgIDogc291cmNlXG4gICAgICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdWJzY3JpYmUoc3Vic2NyaWJlcilcbiAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RyeVN1YnNjcmliZShzdWJzY3JpYmVyKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc2luaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAobmV4dCwgcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBuZXcgU2FmZVN1YnNjcmliZXIoe1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiByZWplY3QsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IHJlc29sdmUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5zb3VyY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtTeW1ib2xfb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICh2YWx1ZSA9IHgpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByZWplY3QoZXJyKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUuY3JlYXRlID0gZnVuY3Rpb24gKHN1YnNjcmliZSkge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlKTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZhYmxlO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmFibGUgfTtcbmZ1bmN0aW9uIGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSBwcm9taXNlQ3RvciAhPT0gbnVsbCAmJiBwcm9taXNlQ3RvciAhPT0gdm9pZCAwID8gcHJvbWlzZUN0b3IgOiBjb25maWcuUHJvbWlzZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogUHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGlzT2JzZXJ2ZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5uZXh0KSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmVycm9yKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmNvbXBsZXRlKTtcbn1cbmZ1bmN0aW9uIGlzU3Vic2NyaWJlcih2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgJiYgdmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB8fCAoaXNPYnNlcnZlcih2YWx1ZSkgJiYgaXNTdWJzY3JpcHRpb24odmFsdWUpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihpbnB1dFtTeW1ib2xfb2JzZXJ2YWJsZV0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJbnRlcm9wT2JzZXJ2YWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBpc0FzeW5jSXRlcmFibGUob2JqKSB7XG4gICAgcmV0dXJuIFN5bWJvbC5hc3luY0l0ZXJhdG9yICYmIGlzRnVuY3Rpb24ob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FzeW5jSXRlcmFibGUuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yKGlucHV0KSB7XG4gICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXCJZb3UgcHJvdmlkZWQgXCIgKyAoaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyA/ICdhbiBpbnZhbGlkIG9iamVjdCcgOiBcIidcIiArIGlucHV0ICsgXCInXCIpICsgXCIgd2hlcmUgYSBzdHJlYW0gd2FzIGV4cGVjdGVkLiBZb3UgY2FuIHByb3ZpZGUgYW4gT2JzZXJ2YWJsZSwgUHJvbWlzZSwgUmVhZGFibGVTdHJlYW0sIEFycmF5LCBBc3luY0l0ZXJhYmxlLCBvciBJdGVyYWJsZS5cIik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJvd1Vub2JzZXJ2YWJsZUVycm9yLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBnZXRTeW1ib2xJdGVyYXRvcigpIHtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCAhU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgICAgIHJldHVybiAnQEBpdGVyYXRvcic7XG4gICAgfVxuICAgIHJldHVybiBTeW1ib2wuaXRlcmF0b3I7XG59XG5leHBvcnQgdmFyIGl0ZXJhdG9yID0gZ2V0U3ltYm9sSXRlcmF0b3IoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdG9yLmpzLm1hcCIsImltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZXJhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJdGVyYWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBfX2FzeW5jR2VuZXJhdG9yLCBfX2F3YWl0LCBfX2dlbmVyYXRvciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcihyZWFkYWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcl8xKCkge1xuICAgICAgICB2YXIgcmVhZGVyLCBfYSwgdmFsdWUsIGRvbmU7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IHJlYWRhYmxlU3RyZWFtLmdldFJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsICwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cnVlKSByZXR1cm4gWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9fYXdhaXQocmVhZGVyLnJlYWQoKSldO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgX2EgPSBfYi5zZW50KCksIHZhbHVlID0gX2EudmFsdWUsIGRvbmUgPSBfYS5kb25lO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRvbmUpIHJldHVybiBbMywgNV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgX19hd2FpdCh2b2lkIDApXTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiwgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbNCwgX19hd2FpdCh2YWx1ZSldO1xuICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFs0LCBfYi5zZW50KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDJdO1xuICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszLCAxMF07XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3XTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JlYWRhYmxlU3RyZWFtTGlrZShvYmopIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmouZ2V0UmVhZGVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUmVhZGFibGVTdHJlYW1MaWtlLmpzLm1hcCIsImltcG9ydCB7IF9fYXN5bmNWYWx1ZXMsIF9fYXdhaXRlciwgX19nZW5lcmF0b3IsIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9pc1Byb21pc2UnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FzeW5jSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzQXN5bmNJdGVyYWJsZSc7XG5pbXBvcnQgeyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvciB9IGZyb20gJy4uL3V0aWwvdGhyb3dVbm9ic2VydmFibGVFcnJvcic7XG5pbXBvcnQgeyBpc0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0l0ZXJhYmxlJztcbmltcG9ydCB7IGlzUmVhZGFibGVTdHJlYW1MaWtlLCByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yIH0gZnJvbSAnLi4vdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IHJlcG9ydFVuaGFuZGxlZEVycm9yIH0gZnJvbSAnLi4vdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlubmVyRnJvbShpbnB1dCkge1xuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21Qcm9taXNlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBc3luY0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21Bc3luY0l0ZXJhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tSXRlcmFibGUoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUludGVyb3BPYnNlcnZhYmxlKG9iaikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgb2JzID0gb2JqW1N5bWJvbF9vYnNlcnZhYmxlXSgpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihvYnMuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG9icy5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvcnJlY3RseSBpbXBsZW1lbnQgU3ltYm9sLm9ic2VydmFibGUnKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXJyYXlMaWtlKGFycmF5KSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSsrKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYXJyYXlbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUHJvbWlzZShwcm9taXNlKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHByb21pc2VcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pXG4gICAgICAgICAgICAudGhlbihudWxsLCByZXBvcnRVbmhhbmRsZWRFcnJvcik7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUl0ZXJhYmxlKGl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgaXRlcmFibGVfMSA9IF9fdmFsdWVzKGl0ZXJhYmxlKSwgaXRlcmFibGVfMV8xID0gaXRlcmFibGVfMS5uZXh0KCk7ICFpdGVyYWJsZV8xXzEuZG9uZTsgaXRlcmFibGVfMV8xID0gaXRlcmFibGVfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpdGVyYWJsZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhYmxlXzFfMSAmJiAhaXRlcmFibGVfMV8xLmRvbmUgJiYgKF9hID0gaXRlcmFibGVfMS5yZXR1cm4pKSBfYS5jYWxsKGl0ZXJhYmxlXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXN5bmNJdGVyYWJsZShhc3luY0l0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHByb2Nlc3MoYXN5bmNJdGVyYWJsZSwgc3Vic2NyaWJlcikuY2F0Y2goZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUmVhZGFibGVTdHJlYW1MaWtlKHJlYWRhYmxlU3RyZWFtKSB7XG4gICAgcmV0dXJuIGZyb21Bc3luY0l0ZXJhYmxlKHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pKTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3MoYXN5bmNJdGVyYWJsZSwgc3Vic2NyaWJlcikge1xuICAgIHZhciBhc3luY0l0ZXJhYmxlXzEsIGFzeW5jSXRlcmFibGVfMV8xO1xuICAgIHZhciBlXzIsIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlLCBlXzJfMTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFswLCA1LCA2LCAxMV0pO1xuICAgICAgICAgICAgICAgICAgICBhc3luY0l0ZXJhYmxlXzEgPSBfX2FzeW5jVmFsdWVzKGFzeW5jSXRlcmFibGUpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzQsIGFzeW5jSXRlcmFibGVfMS5uZXh0KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXN5bmNJdGVyYWJsZV8xXzEgPSBfYi5zZW50KCksICFhc3luY0l0ZXJhYmxlXzFfMS5kb25lKSkgcmV0dXJuIFszLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhc3luY0l0ZXJhYmxlXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMywgMV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzMsIDExXTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGVfMl8xID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBlXzIgPSB7IGVycm9yOiBlXzJfMSB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDExXTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbNiwgLCA5LCAxMF0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShhc3luY0l0ZXJhYmxlXzFfMSAmJiAhYXN5bmNJdGVyYWJsZV8xXzEuZG9uZSAmJiAoX2EgPSBhc3luY0l0ZXJhYmxlXzEucmV0dXJuKSkpIHJldHVybiBbMywgOF07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgX2EuY2FsbChhc3luY0l0ZXJhYmxlXzEpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA4O1xuICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszLCAxMF07XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFs3XTtcbiAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5uZXJGcm9tLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0xpZnQoc291cmNlKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlLmxpZnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9wZXJhdGUoaW5pdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNMaWZ0KHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubGlmdChmdW5jdGlvbiAobGlmdGVkU291cmNlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluaXQobGlmdGVkU291cmNlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5hYmxlIHRvIGxpZnQgdW5rbm93biBPYnNlcnZhYmxlIHR5cGUnKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlmdC5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9uTmV4dCwgb25Db21wbGV0ZSwgb25FcnJvciwgb25GaW5hbGl6ZSkge1xuICAgIHJldHVybiBuZXcgT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUpO1xufVxudmFyIE9wZXJhdG9yU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9wZXJhdG9yU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPcGVyYXRvclN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9uTmV4dCwgb25Db21wbGV0ZSwgb25FcnJvciwgb25GaW5hbGl6ZSwgc2hvdWxkVW5zdWJzY3JpYmUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9uRmluYWxpemUgPSBvbkZpbmFsaXplO1xuICAgICAgICBfdGhpcy5zaG91bGRVbnN1YnNjcmliZSA9IHNob3VsZFVuc3Vic2NyaWJlO1xuICAgICAgICBfdGhpcy5fbmV4dCA9IG9uTmV4dFxuICAgICAgICAgICAgPyBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbk5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9uZXh0O1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBvbkVycm9yXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX2Vycm9yO1xuICAgICAgICBfdGhpcy5fY29tcGxldGUgPSBvbkNvbXBsZXRlXG4gICAgICAgICAgICA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9wZXJhdG9yU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZFVuc3Vic2NyaWJlIHx8IHRoaXMuc2hvdWxkVW5zdWJzY3JpYmUoKSkge1xuICAgICAgICAgICAgdmFyIGNsb3NlZF8xID0gdGhpcy5jbG9zZWQ7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAhY2xvc2VkXzEgJiYgKChfYSA9IHRoaXMub25GaW5hbGl6ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gT3BlcmF0b3JTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBPcGVyYXRvclN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9wZXJhdG9yU3Vic2NyaWJlci5qcy5tYXAiLCJpbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBtYXAocHJvamVjdCwgdGhpc0FyZykge1xuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQocHJvamVjdC5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpbmRleCsrKSk7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gZXhlY3V0ZVNjaGVkdWxlKHBhcmVudFN1YnNjcmlwdGlvbiwgc2NoZWR1bGVyLCB3b3JrLCBkZWxheSwgcmVwZWF0KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgaWYgKHJlcGVhdCA9PT0gdm9pZCAwKSB7IHJlcGVhdCA9IGZhbHNlOyB9XG4gICAgdmFyIHNjaGVkdWxlU3Vic2NyaXB0aW9uID0gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd29yaygpO1xuICAgICAgICBpZiAocmVwZWF0KSB7XG4gICAgICAgICAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHRoaXMuc2NoZWR1bGUobnVsbCwgZGVsYXkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH0sIGRlbGF5KTtcbiAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHNjaGVkdWxlU3Vic2NyaXB0aW9uKTtcbiAgICBpZiAoIXJlcGVhdCkge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVTdWJzY3JpcHRpb247XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhlY3V0ZVNjaGVkdWxlLmpzLm1hcCIsImltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgbWVyZ2VJbnRlcm5hbHMgfSBmcm9tICcuL21lcmdlSW50ZXJuYWxzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCBjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkgeyBjb25jdXJyZW50ID0gSW5maW5pdHk7IH1cbiAgICBpZiAoaXNGdW5jdGlvbihyZXN1bHRTZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlTWFwKGZ1bmN0aW9uIChhLCBpKSB7IHJldHVybiBtYXAoZnVuY3Rpb24gKGIsIGlpKSB7IHJldHVybiByZXN1bHRTZWxlY3RvcihhLCBiLCBpLCBpaSk7IH0pKGlubmVyRnJvbShwcm9qZWN0KGEsIGkpKSk7IH0sIGNvbmN1cnJlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikgeyByZXR1cm4gbWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBwcm9qZWN0LCBjb25jdXJyZW50KTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZU1hcC5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBwcm9qZWN0LCBjb25jdXJyZW50LCBvbkJlZm9yZU5leHQsIGV4cGFuZCwgaW5uZXJTdWJTY2hlZHVsZXIsIGFkZGl0aW9uYWxGaW5hbGl6ZXIpIHtcbiAgICB2YXIgYnVmZmVyID0gW107XG4gICAgdmFyIGFjdGl2ZSA9IDA7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgIHZhciBjaGVja0NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNDb21wbGV0ZSAmJiAhYnVmZmVyLmxlbmd0aCAmJiAhYWN0aXZlKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBvdXRlck5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIChhY3RpdmUgPCBjb25jdXJyZW50ID8gZG9Jbm5lclN1Yih2YWx1ZSkgOiBidWZmZXIucHVzaCh2YWx1ZSkpOyB9O1xuICAgIHZhciBkb0lubmVyU3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGV4cGFuZCAmJiBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICBhY3RpdmUrKztcbiAgICAgICAgdmFyIGlubmVyQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgaW5uZXJGcm9tKHByb2plY3QodmFsdWUsIGluZGV4KyspKS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7XG4gICAgICAgICAgICBvbkJlZm9yZU5leHQgPT09IG51bGwgfHwgb25CZWZvcmVOZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkJlZm9yZU5leHQoaW5uZXJWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoZXhwYW5kKSB7XG4gICAgICAgICAgICAgICAgb3V0ZXJOZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbm5lckNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaW5uZXJDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZS0tO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXJlZFZhbHVlID0gYnVmZmVyLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJTdWJTY2hlZHVsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgaW5uZXJTdWJTY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvSW5uZXJTdWIoYnVmZmVyZWRWYWx1ZSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9Jbm5lclN1YihidWZmZXJlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGJ1ZmZlci5sZW5ndGggJiYgYWN0aXZlIDwgY29uY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3BfMSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBvdXRlck5leHQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWRkaXRpb25hbEZpbmFsaXplciA9PT0gbnVsbCB8fCBhZGRpdGlvbmFsRmluYWxpemVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZGRpdGlvbmFsRmluYWxpemVyKCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlSW50ZXJuYWxzLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSBcIi4uL29wZXJhdG9ycy9tYXBcIjtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmZ1bmN0aW9uIGNhbGxPckFwcGx5KGZuLCBhcmdzKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkoYXJncykgPyBmbi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpIDogZm4oYXJncyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFwT25lT3JNYW55QXJncyhmbikge1xuICAgIHJldHVybiBtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGNhbGxPckFwcGx5KGZuLCBhcmdzKTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBPbmVPck1hbnlBcmdzLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWVyZ2VNYXAnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgbWFwT25lT3JNYW55QXJncyB9IGZyb20gJy4uL3V0aWwvbWFwT25lT3JNYW55QXJncyc7XG52YXIgbm9kZUV2ZW50RW1pdHRlck1ldGhvZHMgPSBbJ2FkZExpc3RlbmVyJywgJ3JlbW92ZUxpc3RlbmVyJ107XG52YXIgZXZlbnRUYXJnZXRNZXRob2RzID0gWydhZGRFdmVudExpc3RlbmVyJywgJ3JlbW92ZUV2ZW50TGlzdGVuZXInXTtcbnZhciBqcXVlcnlNZXRob2RzID0gWydvbicsICdvZmYnXTtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucykucGlwZShtYXBPbmVPck1hbnlBcmdzKHJlc3VsdFNlbGVjdG9yKSk7XG4gICAgfVxuICAgIHZhciBfYSA9IF9fcmVhZChpc0V2ZW50VGFyZ2V0KHRhcmdldClcbiAgICAgICAgPyBldmVudFRhcmdldE1ldGhvZHMubWFwKGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7IHJldHVybiBmdW5jdGlvbiAoaGFuZGxlcikgeyByZXR1cm4gdGFyZ2V0W21ldGhvZE5hbWVdKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7IH07IH0pXG4gICAgICAgIDpcbiAgICAgICAgICAgIGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldClcbiAgICAgICAgICAgICAgICA/IG5vZGVFdmVudEVtaXR0ZXJNZXRob2RzLm1hcCh0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSh0YXJnZXQsIGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgOiBpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldClcbiAgICAgICAgICAgICAgICAgICAgPyBqcXVlcnlNZXRob2RzLm1hcCh0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSh0YXJnZXQsIGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIDogW10sIDIpLCBhZGQgPSBfYVswXSwgcmVtb3ZlID0gX2FbMV07XG4gICAgaWYgKCFhZGQpIHtcbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZU1hcChmdW5jdGlvbiAoc3ViVGFyZ2V0KSB7IHJldHVybiBmcm9tRXZlbnQoc3ViVGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMpOyB9KShpbm5lckZyb20odGFyZ2V0KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFhZGQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBldmVudCB0YXJnZXQnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZXIubmV4dCgxIDwgYXJncy5sZW5ndGggPyBhcmdzIDogYXJnc1swXSk7XG4gICAgICAgIH07XG4gICAgICAgIGFkZChoYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlbW92ZShoYW5kbGVyKTsgfTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5KHRhcmdldCwgZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7IHJldHVybiBmdW5jdGlvbiAoaGFuZGxlcikgeyByZXR1cm4gdGFyZ2V0W21ldGhvZE5hbWVdKGV2ZW50TmFtZSwgaGFuZGxlcik7IH07IH07XG59XG5mdW5jdGlvbiBpc05vZGVTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih0YXJnZXQuYWRkTGlzdGVuZXIpICYmIGlzRnVuY3Rpb24odGFyZ2V0LnJlbW92ZUxpc3RlbmVyKTtcbn1cbmZ1bmN0aW9uIGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0Lm9uKSAmJiBpc0Z1bmN0aW9uKHRhcmdldC5vZmYpO1xufVxuZnVuY3Rpb24gaXNFdmVudFRhcmdldCh0YXJnZXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikgJiYgaXNGdW5jdGlvbih0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tRXZlbnQuanMubWFwIiwiaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xudmFyIEFjdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gQWN0aW9uO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IEFjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWN0aW9uLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuZXhwb3J0IHZhciBpbnRlcnZhbFByb3ZpZGVyID0ge1xuICAgIHNldEludGVydmFsOiBmdW5jdGlvbiAoaGFuZGxlciwgdGltZW91dCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVsZWdhdGUgPSBpbnRlcnZhbFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUgPT09IG51bGwgfHwgZGVsZWdhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlbGVnYXRlLnNldEludGVydmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuc2V0SW50ZXJ2YWwuYXBwbHkoZGVsZWdhdGUsIF9fc3ByZWFkQXJyYXkoW2hhbmRsZXIsIHRpbWVvdXRdLCBfX3JlYWQoYXJncykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0SW50ZXJ2YWwuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtoYW5kbGVyLCB0aW1lb3V0XSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgfSxcbiAgICBjbGVhckludGVydmFsOiBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGludGVydmFsUHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5jbGVhckludGVydmFsKSB8fCBjbGVhckludGVydmFsKShoYW5kbGUpO1xuICAgIH0sXG4gICAgZGVsZWdhdGU6IHVuZGVmaW5lZCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnZhbFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi9BY3Rpb24nO1xuaW1wb3J0IHsgaW50ZXJ2YWxQcm92aWRlciB9IGZyb20gJy4vaW50ZXJ2YWxQcm92aWRlcic7XG5pbXBvcnQgeyBhcnJSZW1vdmUgfSBmcm9tICcuLi91dGlsL2FyclJlbW92ZSc7XG52YXIgQXN5bmNBY3Rpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBc3luY0FjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY0FjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICBfdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdmFyIGlkID0gdGhpcy5pZDtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgdGhpcy5pZCA9IChfYSA9IHRoaXMuaWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMucmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyLCB0aGlzLmlkLCBkZWxheSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgX2lkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgcmV0dXJuIGludGVydmFsUHJvdmlkZXIuc2V0SW50ZXJ2YWwoc2NoZWR1bGVyLmZsdXNoLmJpbmQoc2NoZWR1bGVyLCB0aGlzKSwgZGVsYXkpO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24gKF9zY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgaWYgKGRlbGF5ICE9IG51bGwgJiYgdGhpcy5kZWxheSA9PT0gZGVsYXkgJiYgdGhpcy5wZW5kaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpbnRlcnZhbFByb3ZpZGVyLmNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdleGVjdXRpbmcgYSBjYW5jZWxsZWQgYWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvciA9IHRoaXMuX2V4ZWN1dGUoc3RhdGUsIGRlbGF5KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5wZW5kaW5nID09PSBmYWxzZSAmJiB0aGlzLmlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHRoaXMuc2NoZWR1bGVyLCB0aGlzLmlkLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLl9leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBfZGVsYXkpIHtcbiAgICAgICAgdmFyIGVycm9yZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yVmFsdWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndvcmsoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVycm9yVmFsdWUgPSBlID8gZSA6IG5ldyBFcnJvcignU2NoZWR1bGVkIGFjdGlvbiB0aHJldyBmYWxzeSBlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3JWYWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLCBpZCA9IF9hLmlkLCBzY2hlZHVsZXIgPSBfYS5zY2hlZHVsZXI7XG4gICAgICAgICAgICB2YXIgYWN0aW9ucyA9IHNjaGVkdWxlci5hY3Rpb25zO1xuICAgICAgICAgICAgdGhpcy53b3JrID0gdGhpcy5zdGF0ZSA9IHRoaXMuc2NoZWR1bGVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgYXJyUmVtb3ZlKGFjdGlvbnMsIHRoaXMpO1xuICAgICAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVsYXkgPSBudWxsO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNBY3Rpb247XG59KEFjdGlvbikpO1xuZXhwb3J0IHsgQXN5bmNBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jQWN0aW9uLmpzLm1hcCIsImV4cG9ydCB2YXIgZGF0ZVRpbWVzdGFtcFByb3ZpZGVyID0ge1xuICAgIG5vdzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKGRhdGVUaW1lc3RhbXBQcm92aWRlci5kZWxlZ2F0ZSB8fCBEYXRlKS5ub3coKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCB7IGRhdGVUaW1lc3RhbXBQcm92aWRlciB9IGZyb20gJy4vc2NoZWR1bGVyL2RhdGVUaW1lc3RhbXBQcm92aWRlcic7XG52YXIgU2NoZWR1bGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoc2NoZWR1bGVyQWN0aW9uQ3Rvciwgbm93KSB7XG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkgeyBub3cgPSBTY2hlZHVsZXIubm93OyB9XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyQWN0aW9uQ3RvciA9IHNjaGVkdWxlckFjdGlvbkN0b3I7XG4gICAgICAgIHRoaXMubm93ID0gbm93O1xuICAgIH1cbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHdvcmssIGRlbGF5LCBzdGF0ZSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLnNjaGVkdWxlckFjdGlvbkN0b3IodGhpcywgd29yaykuc2NoZWR1bGUoc3RhdGUsIGRlbGF5KTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5ub3cgPSBkYXRlVGltZXN0YW1wUHJvdmlkZXIubm93O1xuICAgIHJldHVybiBTY2hlZHVsZXI7XG59KCkpO1xuZXhwb3J0IHsgU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY2hlZHVsZXIuanMubWFwIiwiaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG5leHBvcnQgdmFyIGFzeW5jU2NoZWR1bGVyID0gbmV3IEFzeW5jU2NoZWR1bGVyKEFzeW5jQWN0aW9uKTtcbmV4cG9ydCB2YXIgYXN5bmMgPSBhc3luY1NjaGVkdWxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU2NoZWR1bGVyIH0gZnJvbSAnLi4vU2NoZWR1bGVyJztcbnZhciBBc3luY1NjaGVkdWxlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFzeW5jU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jU2NoZWR1bGVyKFNjaGVkdWxlckFjdGlvbiwgbm93KSB7XG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkgeyBub3cgPSBTY2hlZHVsZXIubm93OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFNjaGVkdWxlckFjdGlvbiwgbm93KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hY3Rpb25zID0gW107XG4gICAgICAgIF90aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY1NjaGVkdWxlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICgoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jU2NoZWR1bGVyO1xufShTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IEFzeW5jU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY1NjaGVkdWxlci5qcy5tYXAiLCJpbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHByZWRpY2F0ZS5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpbmRleCsrKSAmJiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9KSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXIuanMubWFwIiwidmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xudmFyIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLCBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGUsIGdldEtleXMgPSBPYmplY3Qua2V5cztcbmV4cG9ydCBmdW5jdGlvbiBhcmdzQXJnQXJyYXlPck9iamVjdChhcmdzKSB7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciBmaXJzdF8xID0gYXJnc1swXTtcbiAgICAgICAgaWYgKGlzQXJyYXkoZmlyc3RfMSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGFyZ3M6IGZpcnN0XzEsIGtleXM6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQT0pPKGZpcnN0XzEpKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IGdldEtleXMoZmlyc3RfMSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFyZ3M6IGtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGZpcnN0XzFba2V5XTsgfSksXG4gICAgICAgICAgICAgICAga2V5czoga2V5cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgYXJnczogYXJncywga2V5czogbnVsbCB9O1xufVxuZnVuY3Rpb24gaXNQT0pPKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gb2JqZWN0UHJvdG87XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmdzQXJnQXJyYXlPck9iamVjdC5qcy5tYXAiLCJpbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZlT24oc2NoZWR1bGVyLCBkZWxheSkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9LCBkZWxheSk7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSwgZGVsYXkpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0sIGRlbGF5KTsgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2ZU9uLmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZU9uKHNjaGVkdWxlciwgZGVsYXkpIHtcbiAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpOyB9LCBkZWxheSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlT24uanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhYmxlIGNhbm5vdCBiZSBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpbnB1dFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXN5bmNJdGVyYWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBzY2hlZHVsZWQgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVkJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVyID8gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIDogaW5uZXJGcm9tKGlucHV0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb20uanMubWFwIiwiaW1wb3J0IHsgc2NoZWR1bGVPYnNlcnZhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZU9ic2VydmFibGUnO1xuaW1wb3J0IHsgc2NoZWR1bGVQcm9taXNlIH0gZnJvbSAnLi9zY2hlZHVsZVByb21pc2UnO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4vc2NoZWR1bGVBcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUl0ZXJhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZUl0ZXJhYmxlJztcbmltcG9ydCB7IHNjaGVkdWxlQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9pc1Byb21pc2UnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0FzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgfSBmcm9tICcuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3InO1xuaW1wb3J0IHsgaXNSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmltcG9ydCB7IHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlIH0gZnJvbSAnLi9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFzeW5jSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVkLmpzLm1hcCIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9ic2VydmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuaW1wb3J0IHsgc3Vic2NyaWJlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvc3Vic2NyaWJlT24nO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIGlubmVyRnJvbShpbnB1dCkucGlwZShzdWJzY3JpYmVPbihzY2hlZHVsZXIpLCBvYnNlcnZlT24oc2NoZWR1bGVyKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZU9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGkgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbnB1dFtpKytdKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVBcnJheS5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvYnNlcnZlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvb2JzZXJ2ZU9uJztcbmltcG9ydCB7IHN1YnNjcmliZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBpbm5lckZyb20oaW5wdXQpLnBpcGUoc3Vic2NyaWJlT24oc2NoZWR1bGVyKSwgb2JzZXJ2ZU9uKHNjaGVkdWxlcikpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVQcm9taXNlLmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yO1xuICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBkb25lO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGl0ZXJhdG9yLm5leHQoKSwgdmFsdWUgPSBfYS52YWx1ZSwgZG9uZSA9IF9hLmRvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzRnVuY3Rpb24oaXRlcmF0b3IgPT09IG51bGwgfHwgaXRlcmF0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZXJhdG9yLnJldHVybikgJiYgaXRlcmF0b3IucmV0dXJuKCk7IH07XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUl0ZXJhYmxlLmpzLm1hcCIsImltcG9ydCB7IHNjaGVkdWxlQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKGlucHV0KSwgc2NoZWR1bGVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuL2lzU2NoZWR1bGVyJztcbmZ1bmN0aW9uIGxhc3QoYXJyKSB7XG4gICAgcmV0dXJuIGFyclthcnIubGVuZ3RoIC0gMV07XG59XG5leHBvcnQgZnVuY3Rpb24gcG9wUmVzdWx0U2VsZWN0b3IoYXJncykge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGxhc3QoYXJncykpID8gYXJncy5wb3AoKSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb3BTY2hlZHVsZXIoYXJncykge1xuICAgIHJldHVybiBpc1NjaGVkdWxlcihsYXN0KGFyZ3MpKSA/IGFyZ3MucG9wKCkgOiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcG9wTnVtYmVyKGFyZ3MsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgbGFzdChhcmdzKSA9PT0gJ251bWJlcicgPyBhcmdzLnBvcCgpIDogZGVmYXVsdFZhbHVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJncy5qcy5tYXAiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBpc1NjaGVkdWxlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnNjaGVkdWxlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzU2NoZWR1bGVyLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPYmplY3Qoa2V5cywgdmFsdWVzKSB7XG4gICAgcmV0dXJuIGtleXMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSwgaSkgeyByZXR1cm4gKChyZXN1bHRba2V5XSA9IHZhbHVlc1tpXSksIHJlc3VsdCk7IH0sIHt9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZU9iamVjdC5qcy5tYXAiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBhcmdzQXJnQXJyYXlPck9iamVjdCB9IGZyb20gJy4uL3V0aWwvYXJnc0FyZ0FycmF5T3JPYmplY3QnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuaW1wb3J0IHsgbWFwT25lT3JNYW55QXJncyB9IGZyb20gJy4uL3V0aWwvbWFwT25lT3JNYW55QXJncyc7XG5pbXBvcnQgeyBwb3BSZXN1bHRTZWxlY3RvciwgcG9wU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcbmltcG9ydCB7IGNyZWF0ZU9iamVjdCB9IGZyb20gJy4uL3V0aWwvY3JlYXRlT2JqZWN0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4uL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3QoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSBwb3BTY2hlZHVsZXIoYXJncyk7XG4gICAgdmFyIHJlc3VsdFNlbGVjdG9yID0gcG9wUmVzdWx0U2VsZWN0b3IoYXJncyk7XG4gICAgdmFyIF9hID0gYXJnc0FyZ0FycmF5T3JPYmplY3QoYXJncyksIG9ic2VydmFibGVzID0gX2EuYXJncywga2V5cyA9IF9hLmtleXM7XG4gICAgaWYgKG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZnJvbShbXSwgc2NoZWR1bGVyKTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBPYnNlcnZhYmxlKGNvbWJpbmVMYXRlc3RJbml0KG9ic2VydmFibGVzLCBzY2hlZHVsZXIsIGtleXNcbiAgICAgICAgP1xuICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlcykgeyByZXR1cm4gY3JlYXRlT2JqZWN0KGtleXMsIHZhbHVlcyk7IH1cbiAgICAgICAgOlxuICAgICAgICAgICAgaWRlbnRpdHkpKTtcbiAgICByZXR1cm4gcmVzdWx0U2VsZWN0b3IgPyByZXN1bHQucGlwZShtYXBPbmVPck1hbnlBcmdzKHJlc3VsdFNlbGVjdG9yKSkgOiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdEluaXQob2JzZXJ2YWJsZXMsIHNjaGVkdWxlciwgdmFsdWVUcmFuc2Zvcm0pIHtcbiAgICBpZiAodmFsdWVUcmFuc2Zvcm0gPT09IHZvaWQgMCkgeyB2YWx1ZVRyYW5zZm9ybSA9IGlkZW50aXR5OyB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIG1heWJlU2NoZWR1bGUoc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gb2JzZXJ2YWJsZXMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgICAgICAgICAgdmFyIGFjdGl2ZSA9IGxlbmd0aDtcbiAgICAgICAgICAgIHZhciByZW1haW5pbmdGaXJzdFZhbHVlcyA9IGxlbmd0aDtcbiAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICBtYXliZVNjaGVkdWxlKHNjaGVkdWxlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gZnJvbShvYnNlcnZhYmxlc1tpXSwgc2NoZWR1bGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc0ZpcnN0VmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFzRmlyc3RWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0ZpcnN0VmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmluZ0ZpcnN0VmFsdWVzLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlbWFpbmluZ0ZpcnN0VmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlVHJhbnNmb3JtKHZhbHVlcy5zbGljZSgpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghLS1hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9LCBzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgX2xvb3BfMShpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgc3Vic2NyaWJlcik7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1heWJlU2NoZWR1bGUoc2NoZWR1bGVyLCBleGVjdXRlLCBzdWJzY3JpcHRpb24pIHtcbiAgICBpZiAoc2NoZWR1bGVyKSB7XG4gICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpcHRpb24sIHNjaGVkdWxlciwgZXhlY3V0ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBleGVjdXRlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tYmluZUxhdGVzdC5qcy5tYXAiLCJleHBvcnQgY29uc3QgZW52aXJvbm1lbnRzID0ge1xuICAgIEFQSV9VUkw6XCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYm9va3NcIlxufSIsImltcG9ydCB7IGZpbHRlciwgZnJvbSwgbWFwIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tIFwicnhqcy9pbnRlcm5hbC9PYnNlcnZhYmxlXCI7XG5pbXBvcnQgeyBrbmppZ2UgfSBmcm9tIFwiLlwiO1xuaW1wb3J0IHsgZW52aXJvbm1lbnRzIH0gZnJvbSBcIi4uL3ZpZXcvZW52aXJvbWVudFwiO1xuaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuL2Jvb2tcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHZyYXRpU3ZlS25qaWdlKCk6T2JzZXJ2YWJsZTxCb29rW10+e1xuICAgIGNvbnN0IHByb21pc2UgPSBmZXRjaChlbnZpcm9ubWVudHMuQVBJX1VSTClcbiAgICAudGhlbihyZXNwb25zZT0+e1xuICAgICAgICBpZighcmVzcG9uc2Uub2spe1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ3Jlc2thIHUgZi1qaSB2cmF0aSBzdmUga25qaWdlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXG4gICAgICAgIH1cbiAgICB9KVxuICAgIC5jYXRjaChlcnI9PmNvbnNvbGUuZXJyb3IoZXJyKSk7XG4gICAgcmV0dXJuIGZyb20ocHJvbWlzZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvb2sodGl0bGU6c3RyaW5nKTpPYnNlcnZhYmxlPEJvb2s+e1xuICAgIGNvbnN0IHRpdGxlMj10aXRsZS5zcGxpdChcIiBcIikuam9pbihcIl9cIikudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zb2xlLmxvZyh0aXRsZTIpO1xuICAgIGNvbnN0IHByb21pcyA9IGZldGNoKGVudmlyb25tZW50cy5BUElfVVJMK1wiL1wiK3RpdGxlMilcbiAgICAudGhlbihyZXNwb25zZSA9PntcbiAgICAgICAgaWYoIXJlc3BvbnNlLm9rKXtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5lbWEgdGUga25qaWdlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXG4gICAgICAgIH1cbiAgICB9KVxuICAgIC5jYXRjaChlcnI9PmNvbnNvbGUuZXJyb3IoZXJyKSk7XG4gICAgcmV0dXJuIGZyb20ocHJvbWlzKVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiB2cmF0aVJhbmRaYW5yKHphbnI6c3RyaW5nKXtcblxuICAgIHZhciBrbmppZ2VaYW5yOkJvb2tbXTtcbiAgICB2cmF0aVN2ZUtuamlnZSgpLnBpcGUoXG4gICAgICAgIG1hcChpdGVtcz0+XG4gICAgICAgICAgICBpdGVtcy5maWx0ZXIoYm9vaz0+Ym9vay56YW5yPT16YW5yKSlcbiAgICApLnN1YnNjcmliZSgoZGF0YSk9PntcbiAgICAgICAga25qaWdlWmFucj1kYXRhO1xuICAgICAgICBpc3Bpc2lQcmVkbG9nKGtuamlnZVphbnIpO1xuICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICBcbn1cblxuZnVuY3Rpb24gaXNwaXNpUHJlZGxvZyhrbmppZ2U6Qm9va1tdKXtcbiAgICB2YXIgZGl2PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGl2dlwiKTtcbiAgICB2YXIgcG9sPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9sMlwiKTtcbiAgICBkaXYucmVtb3ZlQ2hpbGQocG9sKTtcbiAgICB2YXIgcG9sbGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaXYuYXBwZW5kQ2hpbGQocG9sbGwpO1xuICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAga25qaWdlLmZvckVhY2goZWxlbSA9PntcbiAgICAgICAgcC5pbm5lckhUTUw9ZWxlbS50aXRsZTtcbiAgICAgICAgcG9sbGwuYXBwZW5kQ2hpbGQocCk7XG4gICAgfSlcbiAgICBwb2xsbC5jbGFzc05hbWU9XCJwb2wyXCI7XG59XG4iLCJpbXBvcnQgeyBjb21iaW5lTGF0ZXN0LCBmaWx0ZXIsIGZvcmtKb2luLCBmcm9tRXZlbnQsIG1hcCwgT2JzZXJ2YWJsZSwgc3dpdGNoTWFwIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IGtuamlnZSB9IGZyb20gXCIuLi9zcmNcIjtcbmltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi4vc3JjL2Jvb2tcIjtcbmltcG9ydCB7IHZyYXRpUmFuZFphbnIgfSBmcm9tIFwiLi4vc3JjL2NvbnRyb2xsZXJcIjtcblxudmFyIG9jZW5lOm51bWJlcltdPVswLDAsMCwwLDBdO1xudmFyIG9ic2VyOk9ic2VydmFibGU8bnVtYmVyPltdPVtdO1xudmFyIGtuamlnZU5hczpCb29rW109W11cblxuICAgIGV4cG9ydCB2YXIga29udFByZXRyYWdhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGtvbnRQcmV0cmFnYSk7XG4gICAgZXhwb3J0IHZhciBkaXZVbm9zPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAga29udFByZXRyYWdhLmFwcGVuZENoaWxkKGRpdlVub3MpO1xuICAgIGRpdlVub3MuY2xhc3NOYW1lPVwiZGl2VW5vc1wiO1xuICAgIGV4cG9ydCB2YXIgcHJpa2F6S25qaWdhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcHJpa2F6S25qaWdhLmNsYXNzTmFtZT1cInBvbGljYVwiO1xuICAgIGV4cG9ydCB2YXIgY2xlYXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBrb250UHJldHJhZ2EuYXBwZW5kQ2hpbGQoY2xlYXIpO1xuICAgIGtvbnRQcmV0cmFnYS5hcHBlbmRDaGlsZChwcmlrYXpLbmppZ2EpO1xuICAgIGV4cG9ydCB2YXIgYnRuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY2xlYXIuYXBwZW5kQ2hpbGQoYnRuKTtcbiAgICBidG4uaW5uZXJIVE1MPVwiQ2xlYXIgYm9va3NcIjtcbiAgICBidG4ub25jbGljaz0oKCk9PntwcmlrYXpLbmppZ2E9Y2xlYXJCb29rcyhwcmlrYXpLbmppZ2EpfSk7XG4gICAgZXhwb3J0IHZhciBwb2xPY2VuaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHBvbE9jZW5pLmNsYXNzTmFtZT1cInBvbDJcIjtcbiAgICBleHBvcnQgdmFyIGJ0bjI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBidG4yLmlubmVySFRNTD1cIlJhdGUgYm9va3NcIjtcbiAgICBidG4yLm9uY2xpY2s9KCgpPT57Z2V0UmFuZG9tQm9va3MoKX0pO1xuICAgIHZhciBkaXZ2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGl2di5jbGFzc05hbWU9XCJkaXZ2XCI7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXZ2KTtcbiAgICBkaXZ2LmFwcGVuZENoaWxkKGJ0bjIpO1xuICAgIGRpdnYuYXBwZW5kQ2hpbGQocG9sT2NlbmkpO1xuICAgIFxuXG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3Qm9vayhrbmppZ2E6Qm9vayxrb250ZWpuZXI6SFRNTERpdkVsZW1lbnQpe1xuXG4gICAgdmFyIGRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdi5jbGFzc05hbWU9XCJva3ZpcktuamlnZVwiO1xuICAgIGtvbnRlam5lci5hcHBlbmRDaGlsZChkaXYpO1xuICAgIHZhciBsYmxOYXNsb3Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgIGxibE5hc2xvdi50ZXh0Q29udGVudD1rbmppZ2EudGl0bGU7XG4gICAgdmFyIGxibEF1dG9yPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIGxibEF1dG9yLnRleHRDb250ZW50PWtuamlnYS5hdXRvcjtcbiAgICBkaXYuYXBwZW5kQ2hpbGQobGJsTmFzbG92KTtcbiAgICBkaXYuYXBwZW5kQ2hpbGQobGJsQXV0b3IpO1xuICAgIHZhciBteUltZz1uZXcgSW1hZ2UoKTtcbiAgICBteUltZy5zcmM9a25qaWdhLnNsaWthO1xuICAgIG15SW1nLm9uY2xpY2s9KCgpPT57dnJhdGlPcGlzKGtvbnRlam5lcixrbmppZ2EpfSlcbiAgICBteUltZy53aWR0aD0xNTA7XG4gICAgbXlJbWcuaGVpZ2h0PTIwMDtcbiAgICBkaXYuYXBwZW5kQ2hpbGQobXlJbWcpO1xuICAgIFxuXG59XG5cbmZ1bmN0aW9uIHZyYXRpT3BpcyhkaXY6SFRNTERpdkVsZW1lbnQsa25qaWdhOkJvb2spe1xuICAgIHZhciBvcGlzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIG9waXMuY2xhc3NOYW1lPVwib3Bpc1wiO1xuICAgIG9waXMuaW5uZXJIVE1MPWtuamlnYS5vcGlzO1xuICAgIGRpdi5hcHBlbmRDaGlsZChvcGlzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQm9va3Moa29udGVqbmVyOkhUTUxEaXZFbGVtZW50KXtcbiAgICBrb250UHJldHJhZ2EucmVtb3ZlQ2hpbGQoa29udGVqbmVyKTtcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaXYuY2xhc3NOYW1lPVwicG9saWNhXCI7XG4gICAga29udFByZXRyYWdhLmFwcGVuZENoaWxkKGRpdik7XG4gICAgcmV0dXJuIGRpdjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFySW5wdXQodW5vczpIVE1MSW5wdXRFbGVtZW50KXtcbiAgICB1bm9zLnZhbHVlPVwiXCI7XG59XG5cbmZ1bmN0aW9uIGdldFJhbmRvbUJvb2tzKCl7XG4gICAgdmFyIGRpdj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRpdnZcIik7XG4gICAgdmFyIHBvbD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvbDJcIik7XG4gICAgZGl2LnJlbW92ZUNoaWxkKHBvbCk7XG4gICAgdmFyIHBvbGxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGl2LmFwcGVuZENoaWxkKHBvbGxsKTtcbiAgICBwb2xsbC5jbGFzc05hbWU9XCJwb2wyXCI7XG5cbiAgICB2YXIgemFucm92aTpzdHJpbmdbXT1bXTtcbiAgICB2YXIgcG9lbmk6bnVtYmVyW109WzAsMCwwLDAsMF07XG4gICAgdmFyIHJhbmRLbmppZ2E7XG4gICAgZm9yKGxldCBpPTA7aTw1O2krKyl7XG4gICAgcmFuZEtuamlnYSA9IGtuamlnZVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqa25qaWdlLmxlbmd0aCldO1xuICAgIHphbnJvdmlbaV09cmFuZEtuamlnYS56YW5yO1xuICAgIGNvbnNvbGUubG9nKHphbnJvdmlbaV0pO1xuICAgIGNvbnNvbGUubG9nKHJhbmRLbmppZ2EpO1xuICAgIG9ic2VyW2ldPWRyYXdCb29rWmFPY2VudShyYW5kS25qaWdhLHBvbGxsKVxuICAgIH1cbiAgICBjb21iaW5lTGF0ZXN0KFtvYnNlclswXSxvYnNlclsxXSxvYnNlclsyXSxvYnNlclszXSxvYnNlcls0XV0pLnN1YnNjcmliZSgoZGF0YSk9PntcbiAgICAgICAgb2NlbmU9ZGF0YTtcbiAgICAgICAgdmFyIG1heD0wO1xuICAgICAgICB2YXIgb21pbGplbmlaYW5yPVwiXCI7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICBmb3IobGV0IGs9MDtrPDU7aysrKXtcbiAgICAgICAgICAgIGZvcihsZXQgaj0wO2o8NTtqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYoayE9ail7XG4gICAgICAgICAgICAgICAgaWYoemFucm92aVtrXT09PXphbnJvdmlbal0pe1xuICAgICAgICAgICAgICAgICAgICBvY2VuZVtrXT1vY2VuZVtrXStvY2VuZVtqXTtcbiAgICAgICAgICAgICAgICAgICAgemFucm92aVtqXT1cIlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhvY2VuZVtrXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmKG1heDxvY2VuZVtrXSYmemFucm92aVtrXSE9XCJcIilcbiAgICAgICAgICAgICAgICAgICAge29taWxqZW5pWmFucj16YW5yb3ZpW2tdO31cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2cob21pbGplbmlaYW5yKTtcbiAgICAgICAgdnJhdGlSYW5kWmFucihvbWlsamVuaVphbnIpO1xuICAgICAgICBjb25zb2xlLmxvZyhvY2VuZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHphbnJvdmkpO1xuXG4gICAgfSk7XG5cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0Jvb2taYU9jZW51KGtuamlnYTpCb29rLGtvbnRlam5lcjpIVE1MRGl2RWxlbWVudCk6T2JzZXJ2YWJsZTxudW1iZXI+XG57XG4gICAgXG4gICAgdmFyIGRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdi5jbGFzc05hbWU9XCJva3ZpcktuamlnZVwiO1xuICAgIGtvbnRlam5lci5hcHBlbmRDaGlsZChkaXYpO1xuICAgIHZhciBsYmxOYXNsb3Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgIGxibE5hc2xvdi50ZXh0Q29udGVudD1rbmppZ2EudGl0bGU7XG4gICAgdmFyIGxibEF1dG9yPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIGxibEF1dG9yLnRleHRDb250ZW50PWtuamlnYS5hdXRvcjtcbiAgICB2YXIgaW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGRpdi5hcHBlbmRDaGlsZChsYmxOYXNsb3YpO1xuICAgIGRpdi5hcHBlbmRDaGlsZChsYmxBdXRvcik7XG4gICAgdmFyIG15SW1nPW5ldyBJbWFnZSgpO1xuICAgIG15SW1nLnNyYz1rbmppZ2Euc2xpa2E7XG4gICAgbXlJbWcud2lkdGg9MTUwO1xuICAgIG15SW1nLmhlaWdodD0yMDA7XG4gICAgZGl2LmFwcGVuZENoaWxkKG15SW1nKTtcbiAgICBkaXYuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgIFxuICAgIHZhciBvYnMgPWZyb21FdmVudChpbnB1dCxcImlucHV0XCIpLnBpcGUoXG4gICAgICAgIG1hcCgoZXY6SW5wdXRFdmVudCk9PnBhcnNlSW50KCg8SFRNTElucHV0RWxlbWVudD5ldi50YXJnZXQpLnZhbHVlKSksXG4gICAgICAgIGZpbHRlcigoYnI6bnVtYmVyKT0+YnI8PTUmJmJyPj0wKVxuICAgIClcbiAgICByZXR1cm4gb2JzO1xuXG59XG5cbiIsImltcG9ydCB7IGZyb21FdmVudCxkZWJvdW5jZVRpbWUsbWFwLGZpbHRlcixmcm9tLE9ic2VydmFibGUsc3dpdGNoTWFwIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IGRyYXdCb29rLGNsZWFyQm9va3MsIGRpdlVub3MsIHByaWthektuamlnYSwgY2xlYXJJbnB1dH0gZnJvbSBcIi4uL3ZpZXcvZHJhd1wiO1xuaW1wb3J0IHsgZW52aXJvbm1lbnRzIH0gZnJvbSBcIi4uL3ZpZXcvZW52aXJvbWVudFwiO1xuaW1wb3J0IHsgQm9vayB9IGZyb20gXCIuL2Jvb2tcIlxuaW1wb3J0IHsgdnJhdGlTdmVLbmppZ2UgfSBmcm9tIFwiLi9jb250cm9sbGVyXCJcbmltcG9ydCB7IGdldEJvb2sgfSBmcm9tIFwiLi9jb250cm9sbGVyXCI7XG5cbmV4cG9ydCB2YXIga25qaWdlOkJvb2tbXT1bXTtcblxudmFyIGtuamlnYTogQm9vayA9IHtcbiAgICBpZDogXCJkcmFrdWxhXCIsXG4gICAgdGl0bGU6IFwiRHJha3VsYVwiLFxuICAgIHphbnI6IFwiSG9yb3JcIixcbiAgICBnb2RpbmE6IDE4OTcsXG4gICAgYXV0b3I6IFwiQnJlbSBTdG9rZXJcIixcbiAgICBzbGlrYTogXCIuLi9hc3NldHMvNTEwNy5qcGdcIixcbiAgICBvcGlzOlwiXCJcbn0gO1xuXG5cbmZ1bmN0aW9uIGJvb2tJbnB1dCgpe1xuICAgIGNvbnN0IHVub3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgZGl2VW5vcy5hcHBlbmRDaGlsZCh1bm9zKTtcblxuICAgIGZyb21FdmVudCh1bm9zLFwiaW5wdXRcIikucGlwZShcbiAgICAgICAgZGVib3VuY2VUaW1lKDUwMCksXG4gICAgICAgIG1hcCgoZXY6SW5wdXRFdmVudCk9Pig8SFRNTElucHV0RWxlbWVudD5ldi50YXJnZXQpLnZhbHVlKSxcbiAgICAgICAgZmlsdGVyKCh0eHQ6c3RyaW5nKT0+dHh0Lmxlbmd0aD49MyksXG4gICAgICAgIHN3aXRjaE1hcCh0aXRsZT0+Z2V0Qm9vayh0aXRsZSkpXG4gICAgKS5zdWJzY3JpYmUob2JqPT57XG4gICAgICAgIGNvbnNvbGUubG9nKFwiLS0tXCIsb2JqKTtcbiAgICAgICAgY29uc29sZS5sb2cob2JqLnphbnIpO1xuICAgICAgICBrbmppZ2EuaWQ9b2JqLmlkO1xuICAgICAgICBrbmppZ2Eub3Bpcz1vYmoub3BpcztcbiAgICAgICAga25qaWdhLmdvZGluYT1vYmouZ29kaW5hO1xuICAgICAgICBrbmppZ2Euc2xpa2E9b2JqLnNsaWthO1xuICAgICAgICBrbmppZ2EudGl0bGU9b2JqLnRpdGxlO1xuICAgICAgICBrbmppZ2EuemFucj1vYmouemFucjtcbiAgICAgICAgZHJhd0Jvb2soa25qaWdhLHByaWthektuamlnYSk7XG4gICAgICAgIGNsZWFySW5wdXQodW5vcylcbiAgICB9KTtcbn07XG5cbnZyYXRpU3ZlS25qaWdlKCkuc3Vic2NyaWJlKGxpc3RhPT57XG4gICAgY29uc29sZS5sb2cobGlzdGEpO1xuICAgIGtuamlnZT1saXN0YTsgICAgXG4gICAgY29uc29sZS5sb2coa25qaWdlKTtcbn0pO1xuXG5cblxuYm9va0lucHV0KCk7XG5cblxuXG4iLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgY2hlY2tDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzQ29tcGxldGUgJiYgIWlubmVyU3Vic2NyaWJlciAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH07XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaW5uZXJTdWJzY3JpYmVyID09PSBudWxsIHx8IGlubmVyU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5uZXJTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB2YXIgaW5uZXJJbmRleCA9IDA7XG4gICAgICAgICAgICB2YXIgb3V0ZXJJbmRleCA9IGluZGV4Kys7XG4gICAgICAgICAgICBpbm5lckZyb20ocHJvamVjdCh2YWx1ZSwgb3V0ZXJJbmRleCkpLnN1YnNjcmliZSgoaW5uZXJTdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQocmVzdWx0U2VsZWN0b3IgPyByZXN1bHRTZWxlY3Rvcih2YWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCsrKSA6IGlubmVyVmFsdWUpOyB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3dpdGNoTWFwLmpzLm1hcCIsImltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlVGltZShkdWVUaW1lLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gYXN5bmNTY2hlZHVsZXI7IH1cbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBhY3RpdmVUYXNrID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0VGltZSA9IG51bGw7XG4gICAgICAgIHZhciBlbWl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZVRhc2spIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgYWN0aXZlVGFzayA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gbGFzdFZhbHVlO1xuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gZW1pdFdoZW5JZGxlKCkge1xuICAgICAgICAgICAgdmFyIHRhcmdldFRpbWUgPSBsYXN0VGltZSArIGR1ZVRpbWU7XG4gICAgICAgICAgICB2YXIgbm93ID0gc2NoZWR1bGVyLm5vdygpO1xuICAgICAgICAgICAgaWYgKG5vdyA8IHRhcmdldFRpbWUpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrID0gdGhpcy5zY2hlZHVsZSh1bmRlZmluZWQsIHRhcmdldFRpbWUgLSBub3cpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKGFjdGl2ZVRhc2spO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVtaXQoKTtcbiAgICAgICAgfVxuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBzY2hlZHVsZXIubm93KCk7XG4gICAgICAgICAgICBpZiAoIWFjdGl2ZVRhc2spIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrID0gc2NoZWR1bGVyLnNjaGVkdWxlKGVtaXRXaGVuSWRsZSwgZHVlVGltZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoYWN0aXZlVGFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGVtaXQoKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsYXN0VmFsdWUgPSBhY3RpdmVUYXNrID0gbnVsbDtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVib3VuY2VUaW1lLmpzLm1hcCJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImV4dGVuZFN0YXRpY3MiLCJkIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiX19leHRlbmRzIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiX18iLCJ0aGlzIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfX2dlbmVyYXRvciIsInRoaXNBcmciLCJib2R5IiwiZiIsInkiLCJ0IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwibmV4dCIsInZlcmIiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm4iLCJ2Iiwib3AiLCJkb25lIiwidmFsdWUiLCJwb3AiLCJsZW5ndGgiLCJwdXNoIiwiZSIsInN0ZXAiLCJfX3ZhbHVlcyIsInMiLCJtIiwiaSIsIl9fcmVhZCIsInIiLCJhciIsImVycm9yIiwiX19zcHJlYWRBcnJheSIsInRvIiwiZnJvbSIsInBhY2siLCJhcmd1bWVudHMiLCJsIiwic2xpY2UiLCJjb25jYXQiLCJfX2F3YWl0IiwiX19hc3luY0dlbmVyYXRvciIsIl9hcmd1bWVudHMiLCJnZW5lcmF0b3IiLCJhc3luY0l0ZXJhdG9yIiwiYXBwbHkiLCJxIiwiUHJvbWlzZSIsImEiLCJyZXN1bWUiLCJyZXNvbHZlIiwidGhlbiIsImZ1bGZpbGwiLCJyZWplY3QiLCJzZXR0bGUiLCJzaGlmdCIsImlzQXJyYXlMaWtlIiwieCIsImlzRnVuY3Rpb24iLCJpc1Byb21pc2UiLCJjdG9yRnVuYyIsIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCJfc3VwZXIiLCJlcnJvcnMiLCJtZXNzYWdlIiwibWFwIiwiZXJyIiwidG9TdHJpbmciLCJqb2luIiwibmFtZSIsImNyZWF0ZUltcGwiLCJpbnN0YW5jZSIsIkVycm9yIiwic3RhY2siLCJhcnJSZW1vdmUiLCJhcnIiLCJpdGVtIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiU3Vic2NyaXB0aW9uIiwiaW5pdGlhbFRlYXJkb3duIiwiY2xvc2VkIiwiX3BhcmVudGFnZSIsIl9maW5hbGl6ZXJzIiwiZW1wdHkiLCJ1bnN1YnNjcmliZSIsImVfMSIsIl9hIiwiZV8yIiwiX2IiLCJpc0FycmF5IiwiX3BhcmVudGFnZV8xIiwiX3BhcmVudGFnZV8xXzEiLCJyZW1vdmUiLCJlXzFfMSIsInJldHVybiIsImluaXRpYWxGaW5hbGl6ZXIiLCJfZmluYWxpemVyc18xIiwiX2ZpbmFsaXplcnNfMV8xIiwiZmluYWxpemVyIiwiZXhlY0ZpbmFsaXplciIsImVfMl8xIiwiYWRkIiwidGVhcmRvd24iLCJfaGFzUGFyZW50IiwiX2FkZFBhcmVudCIsInBhcmVudCIsImluY2x1ZGVzIiwiX3JlbW92ZVBhcmVudCIsIkVNUFRZIiwiaXNTdWJzY3JpcHRpb24iLCJjb25maWciLCJ1bmRlZmluZWQiLCJ0aW1lb3V0UHJvdmlkZXIiLCJzZXRUaW1lb3V0IiwiaGFuZGxlciIsInRpbWVvdXQiLCJhcmdzIiwiX2kiLCJkZWxlZ2F0ZSIsImNsZWFyVGltZW91dCIsImhhbmRsZSIsInJlcG9ydFVuaGFuZGxlZEVycm9yIiwibm9vcCIsIkNPTVBMRVRFX05PVElGSUNBVElPTiIsImNyZWF0ZU5vdGlmaWNhdGlvbiIsImtpbmQiLCJjb250ZXh0IiwiU3Vic2NyaWJlciIsImRlc3RpbmF0aW9uIiwiX3RoaXMiLCJpc1N0b3BwZWQiLCJFTVBUWV9PQlNFUlZFUiIsImNvbXBsZXRlIiwiU2FmZVN1YnNjcmliZXIiLCJoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uIiwibmV4dE5vdGlmaWNhdGlvbiIsIl9uZXh0IiwiX2Vycm9yIiwiX2NvbXBsZXRlIiwiX2JpbmQiLCJGdW5jdGlvbiIsImJpbmQiLCJmbiIsIkNvbnN1bWVyT2JzZXJ2ZXIiLCJwYXJ0aWFsT2JzZXJ2ZXIiLCJoYW5kbGVVbmhhbmRsZWRFcnJvciIsIm9ic2VydmVyT3JOZXh0IiwiY29udGV4dF8xIiwiZXJyb3JUaHJvd24iLCJub3RpZmljYXRpb24iLCJzdWJzY3JpYmVyIiwib25TdG9wcGVkTm90aWZpY2F0aW9uIiwib2JzZXJ2YWJsZSIsImlkZW50aXR5IiwicGlwZUZyb21BcnJheSIsImZucyIsImlucHV0IiwicmVkdWNlIiwicHJldiIsIk9ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJfc3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwic291cmNlIiwiaXNPYnNlcnZlciIsImNiIiwiaXNSb290IiwiZXJyb3JDb250ZXh0IiwiX3RyeVN1YnNjcmliZSIsInNpbmsiLCJmb3JFYWNoIiwicHJvbWlzZUN0b3IiLCJnZXRQcm9taXNlQ3RvciIsInBpcGUiLCJvcGVyYXRpb25zIiwidG9Qcm9taXNlIiwiaXNJbnRlcm9wT2JzZXJ2YWJsZSIsImlzQXN5bmNJdGVyYWJsZSIsImNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIiwiaXNJdGVyYWJsZSIsInJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IiLCJyZWFkYWJsZVN0cmVhbSIsInJlYWRlciIsImdldFJlYWRlciIsInJlYWQiLCJyZWxlYXNlTG9jayIsImlzUmVhZGFibGVTdHJlYW1MaWtlIiwiaW5uZXJGcm9tIiwib2JzIiwiYXJyYXkiLCJwcm9taXNlIiwiZnJvbUFzeW5jSXRlcmFibGUiLCJpdGVyYWJsZSIsIml0ZXJhYmxlXzEiLCJpdGVyYWJsZV8xXzEiLCJhc3luY0l0ZXJhYmxlIiwiYXN5bmNJdGVyYWJsZV8xIiwiYXN5bmNJdGVyYWJsZV8xXzEiLCJQIiwiX19hc3luY1ZhbHVlcyIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwicmVzdWx0IiwicHJvY2VzcyIsImNhdGNoIiwib3BlcmF0ZSIsImluaXQiLCJoYXNMaWZ0IiwibGlmdGVkU291cmNlIiwiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwib25OZXh0Iiwib25Db21wbGV0ZSIsIm9uRXJyb3IiLCJvbkZpbmFsaXplIiwiT3BlcmF0b3JTdWJzY3JpYmVyIiwic2hvdWxkVW5zdWJzY3JpYmUiLCJjbG9zZWRfMSIsInByb2plY3QiLCJleGVjdXRlU2NoZWR1bGUiLCJwYXJlbnRTdWJzY3JpcHRpb24iLCJzY2hlZHVsZXIiLCJ3b3JrIiwiZGVsYXkiLCJyZXBlYXQiLCJzY2hlZHVsZVN1YnNjcmlwdGlvbiIsInNjaGVkdWxlIiwibWVyZ2VNYXAiLCJyZXN1bHRTZWxlY3RvciIsImNvbmN1cnJlbnQiLCJJbmZpbml0eSIsImlpIiwib25CZWZvcmVOZXh0IiwiZXhwYW5kIiwiaW5uZXJTdWJTY2hlZHVsZXIiLCJhZGRpdGlvbmFsRmluYWxpemVyIiwiYnVmZmVyIiwiYWN0aXZlIiwiaXNDb21wbGV0ZSIsImNoZWNrQ29tcGxldGUiLCJvdXRlck5leHQiLCJkb0lubmVyU3ViIiwiaW5uZXJDb21wbGV0ZSIsImlubmVyVmFsdWUiLCJidWZmZXJlZFZhbHVlIiwibWVyZ2VJbnRlcm5hbHMiLCJtYXBPbmVPck1hbnlBcmdzIiwiY2FsbE9yQXBwbHkiLCJub2RlRXZlbnRFbWl0dGVyTWV0aG9kcyIsImV2ZW50VGFyZ2V0TWV0aG9kcyIsImpxdWVyeU1ldGhvZHMiLCJmcm9tRXZlbnQiLCJ0YXJnZXQiLCJldmVudE5hbWUiLCJvcHRpb25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0V2ZW50VGFyZ2V0IiwibWV0aG9kTmFtZSIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJpc05vZGVTdHlsZUV2ZW50RW1pdHRlciIsInRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5Iiwib24iLCJvZmYiLCJpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyIiwic3ViVGFyZ2V0IiwiQWN0aW9uIiwic3RhdGUiLCJpbnRlcnZhbFByb3ZpZGVyIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiQXN5bmNBY3Rpb24iLCJwZW5kaW5nIiwiaWQiLCJyZWN5Y2xlQXN5bmNJZCIsInJlcXVlc3RBc3luY0lkIiwiX2lkIiwiZmx1c2giLCJfc2NoZWR1bGVyIiwiZXhlY3V0ZSIsIl9leGVjdXRlIiwiX2RlbGF5IiwiZXJyb3JWYWx1ZSIsImVycm9yZWQiLCJhY3Rpb25zIiwiZGF0ZVRpbWVzdGFtcFByb3ZpZGVyIiwibm93IiwiRGF0ZSIsIlNjaGVkdWxlciIsInNjaGVkdWxlckFjdGlvbkN0b3IiLCJhc3luY1NjaGVkdWxlciIsIkFzeW5jU2NoZWR1bGVyIiwiU2NoZWR1bGVyQWN0aW9uIiwiX2FjdGl2ZSIsImFjdGlvbiIsImZpbHRlciIsInByZWRpY2F0ZSIsImdldFByb3RvdHlwZU9mIiwib2JqZWN0UHJvdG8iLCJnZXRLZXlzIiwia2V5cyIsImFyZ3NBcmdBcnJheU9yT2JqZWN0IiwiZmlyc3RfMSIsIm9ic2VydmVPbiIsInN1YnNjcmliZU9uIiwic2NoZWR1bGVBc3luY0l0ZXJhYmxlIiwic2NoZWR1bGVPYnNlcnZhYmxlIiwic2NoZWR1bGVBcnJheSIsInNjaGVkdWxlUHJvbWlzZSIsInNjaGVkdWxlSXRlcmFibGUiLCJzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSIsInNjaGVkdWxlZCIsImxhc3QiLCJwb3BSZXN1bHRTZWxlY3RvciIsInBvcFNjaGVkdWxlciIsImNyZWF0ZU9iamVjdCIsInZhbHVlcyIsImNvbWJpbmVMYXRlc3RJbml0Iiwib2JzZXJ2YWJsZXMiLCJ2YWx1ZVRyYW5zZm9ybSIsIm1heWJlU2NoZWR1bGUiLCJyZW1haW5pbmdGaXJzdFZhbHVlcyIsIl9sb29wXzEiLCJoYXNGaXJzdFZhbHVlIiwic3Vic2NyaXB0aW9uIiwiZW52aXJvbm1lbnRzIiwidnJhdGlTdmVLbmppZ2UiLCJmZXRjaCIsInJlc3BvbnNlIiwib2siLCJqc29uIiwiY29uc29sZSIsIm9jZW5lIiwib2JzZXIiLCJrb250UHJldHJhZ2EiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImRpdlVub3MiLCJjbGFzc05hbWUiLCJwcmlrYXpLbmppZ2EiLCJjbGVhciIsImJ0biIsImlubmVySFRNTCIsIm9uY2xpY2siLCJrb250ZWpuZXIiLCJyZW1vdmVDaGlsZCIsImRpdiIsImNsZWFyQm9va3MiLCJwb2xPY2VuaSIsImJ0bjIiLCJxdWVyeVNlbGVjdG9yIiwicG9sIiwicG9sbGwiLCJyYW5kS25qaWdhIiwiemFucm92aSIsImtuamlnZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInphbnIiLCJsb2ciLCJkcmF3Qm9va1phT2NlbnUiLCJjb21iaW5lTGF0ZXN0IiwiZGF0YSIsIm9taWxqZW5pWmFuciIsImsiLCJqIiwiaXRlbXMiLCJib29rIiwiZWxlbSIsInRpdGxlIiwiaXNwaXNpUHJlZGxvZyIsImdldFJhbmRvbUJvb2tzIiwiZGl2diIsImtuamlnYSIsImxibE5hc2xvdiIsInRleHRDb250ZW50IiwibGJsQXV0b3IiLCJhdXRvciIsIm15SW1nIiwiSW1hZ2UiLCJzcmMiLCJzbGlrYSIsIndpZHRoIiwiaGVpZ2h0IiwiZXYiLCJwYXJzZUludCIsImJyIiwidW5vcyIsImdvZGluYSIsIm9waXMiLCJsaXN0YSIsImFjdGl2ZVRhc2siLCJsYXN0VmFsdWUiLCJsYXN0VGltZSIsImVtaXQiLCJlbWl0V2hlbklkbGUiLCJ0YXJnZXRUaW1lIiwidHh0IiwidGl0bGUyIiwic3BsaXQiLCJ0b0xvd2VyQ2FzZSIsImdldEJvb2siLCJpbm5lclN1YnNjcmliZXIiLCJ2cmF0aU9waXMiLCJkcmF3Qm9vayIsImNsZWFySW5wdXQiXSwic291cmNlUm9vdCI6IiJ9